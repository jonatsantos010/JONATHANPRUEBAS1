<div class="main-container-header" style="padding-top: 50px !important;">
</div>
<br>
<br>
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<div class="container-fluid my-4">
    <div class="m-4">
        <div class="box-grey">

                <div class="row justify-content">
                    <div class="col-md-12">
                        <a aria-label="Protecta Security"
                        href="https://protectasecurity.pe/"
                        target="_self">
                        <img src="assets/logos/logo-PS.svg" alt="Protecta Security"style="width: 280px; height: 48px; float left !important; margin-top: 20px;">
                        </a>
                    </div>
                </div>
                <div class="row justify-content-center mt-4">
                  <div class="col-lg-12 columna">
                        <h2 style="color:darkblue; font-weight: 600;"> FORMULARIO DE SOLICITUDES DE SINIESTRO SOAT</h2>
                        <br>
                 </div>
                </div>
                <br>
                <form  [formGroup]="formregister" (ngSubmit)="registrar()" class="justify-content-center" >
                <div class="row justify-content-center">
                    <!--Datos de solicitante-->
                        <div class="col-md-8  justify-content-center">
                            <div class="card" >
                                <div class="card-header" style="background-color: rgb(74, 74, 194) !important;">
                                    <h4 style="color:rgb(255, 255, 255);">DATOS DEL SOLICITANTE</h4>
                                </div>
                              <div class="card-body justify-content-center">
                                <div class="form-group">
                                    <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2">
                                             <label for="TipoDocumento">Tipo de Documento</label>
                                        </div>
                                        <div class="col-md-2">
                                            <select formControlName="tipodocumentosol" class="form-control" (change)="changeTipoDocumento($event)">
                                                <option value="13652" >DNI</option>
                                                <option value="13653">CE</option>
                                                <option value="13654">RUC</option>
                                                <option value="15467">PASAPORTE</option>

                                            </select>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="documentosol" style="float:right" >Nro de Documento</label>
                                            </div>

                                        </div>
                                        <div class="col-md-3">
                                            <input type="text"  formControlName="documentosol" FormControl="documentosol"
                                            class="form-control" (keypress)="validaNumericos($event)" style="text-transform: uppercase;">
                                        </div>
                                    </div>
                                    <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2">
                                        <!--<label for="rucsolicitante">Razón social &nbsp;&nbsp;<span style="color:brown">(*)</span>:</label> -->
                                        <label for="rucsolicitante">Razón social</label>

                                        </div>
                                          <div class="col-md-8">
                                            <div class="form-group">
                                                <input type="text" class="form-control" formControlName="rucsolicitante" style="text-transform: uppercase;">
                                            </div>
                                          </div>
                                    </div>
                                    <div class="row mt-3 justify-content-center">
                                            <div class="col-md-2">
                                                <label for="nombressolicitante">Nombres</label>

                                            </div>

                                            <div class="col-md-8">
                                            <div class="form-group">
                                                <input type="text" class="form-control" formControlName="nombressolicitante" (keypress)="soloLetras($event)" style="text-transform: uppercase;">

                                            </div>
                                            </div>

                                    </div>
                                    <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2">
                                            <label for="apellidosssolicitante">Apellidos</label>

                                        </div>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" formControlName="apellidosssolicitante" (keypress)="soloLetras($event)" style="text-transform: uppercase;">
                                        </div>
                                    </div>
                                    <div class="row mt-3 justify-content-center">
                                      <div class="col-md-2"><label for="emailsolicitante">correo electronico</label></div>
                                      <div class="col-md-8">
                                          <input type="email" formControlName="emailsolicitante" class="form-control" style="text-transform: uppercase;">
                                          <span style="color:rgb(74, 32, 179)" *ngIf="!emailsolicitante.valid">Ingrese el formato correcto</span>
                                          <span style="color:rgb(177, 122, 28)" *ngIf="emailsolicitante.valid && emailsolicitante.value !=''">Formato correcto</span>
                                      </div>
                                  </div>
                                   <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2"><label for="nrotelefono">Nro Teléfono</label></div>
                                        <div class="col-md-8"><input type="text" class="form-control "   formControlName="nrotelefonosolicitante" (keypress)="validaNrotelefono($event)">
                                        </div>
                                   </div>
                                   <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2">
                                            <label for="direccionsolicitante">Dirección</label>
                                        </div>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" formControlName="direccionsolicitante" style="text-transform: uppercase;">
                                        </div>
                                   </div>
                                       <div class="row mt-3 justify-content-center checkboxI">
                                        <div class="col-md-10">
                                            <input type="checkbox" [checked]="checkboxMarcado" class="form-check-input" formControlName="checksol" (change)="changechecksol($event)"  style="width: 17px; height: 20px;">
                                            <label class="form-check-label checkboxII" for="checksol" >Marque la casilla si los datos del solicitante son los mismos que el lesionado</label>

                                        </div>
                                      </div>


                                </div>

                              </div>
                            </div>
                        </div>
                    <!--Fin de datos del solicitnate-->

                    <!--Datos del agraviado-->
                    <div class="col-md-8" >
                            <div class="card" id="datosdelagraviado" >
                                <div class="card-header" style="background-color: rgb(74, 74, 194) !important;">
                                    <h4 style="color:rgb(255, 255, 255);">DATOS DEL AGRAVIADO</h4>
                                </div>
                              <div class="card-body">
                                <div class="form-group">
                                  <div class="row mt-3 justify-content-center">
                                    <div class="col-md-2"> <label for="tipodocumentoagraviado">Tipo de Documento</label>
                                    </div>
                                    <div class="col-md-2">
                                        <select  class="form-control" [attr.disabled]="disableagraviado == true ? true : null" formControlName="tipodocumentoagraviado" (change)="changeTipoDocumentoagrav($event)">
                                          <option value="15473" >DNI</option>
                                           <!--<option value="15474">RUC</option> -->
                                         <option value="16201">CE</option>
                                          <option value="16202">PASAPORTE</option>

                                        </select>
                                    </div>
                                    <div class="col-md-3"> <label for="nrodocumento">Nro de Documento</label></div>
                                    <div class="col-md-3">
                                        <input type="text" class="form-control" FormControl="documentoagraviado" [readonly]="disableagraviado" formControlName="documentoagraviado" (keypress)="validaNumericos($event)" style="text-transform: uppercase;"></div>
                                </div>
                           <!-- <div class="row mt-3 justify-content-center" *ngIf="tipodocumentoagraviado.value == 15474" >
                                    <div class="col-md-2">
                                      <label for="rucagraviado">Razón social <span style="color:brown">(*)</span>:</label>
                                    </div>
                                   <div class="col-md-8">
                                        <div class="form-group">
                                          <input type="text" class="form-control" formControlName="rucagraviado" style="text-transform: uppercase;">

                                        </div>
                                  </div>
                                  </div>-->
                                    <div class="row mt-3 justify-content-center" *ngIf="tipodocumentoagraviado.value != 15474">
                                        <div class="col-md-2">
                                            <label for="nombresagraviado">Nombres</label>
                                        </div>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control"  formControlName="nombresagraviado" [readonly]="disableagraviado" (keypress)="soloLetras($event)" style="text-transform: uppercase;">
                                        </div>
                                    </div>
                                    <div class="row mt-3 justify-content-center" *ngIf="tipodocumentoagraviado.value != 15474">
                                        <div class="col-md-2">
                                            <label for="apellidosagraviado">Apellidos</label>
                                        </div>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control"  formControlName="apellidosagraviado" style="text-transform: uppercase;" [readonly]="disableagraviado" (keypress)="soloLetras($event)" style="text-transform: uppercase;">
                                        </div>
                                    </div>

                                  </div>
                                  <div class="row mt-3" class="hidden-input">
                                    <div class="col-md-2"><label for="nrodocumento">correo electronico</label></div>
                                    <div class="col-md-8">
                                        <input type="email" class="form-control" id="correoelectronico" >
                                    </div>
                                  </div>
                                   <div class="row mt-3" class="hidden-input">
                                        <div class="col-md-2"><label for="nrotelefono">Nro Teléfono</label></div>
                                        <div class="col-md-2"><input type="text" class="form-control"  (keypress)="validaNrotelefono($event)">
                                        </div>
                                   </div>
                                   <div class="row mt-3 justify-content-center">
                                    <div class="col-md-2">
                                        <label for="direccion">Dirección</label>
                                    </div>
                                    <div class="col-md-8">
                                        <input type="text" formControlName="direccionagraviado" class="form-control" [readonly]="disableagraviado" style="text-transform: uppercase;">
                                    </div>
                                   </div>
                                   <div class="row mt-3 justify-content-center">
                                    <div class="col-md-2"><label for="nroplacavehiculoagraviado">Nro. Placa del vehículo </label></div>
                                    <div class="col-md-2">
                                        <input type="text" class="form-control" formControlName="nroplacavehiculoagraviado" style="text-transform: uppercase;">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="fechasiniestroagraviado">Fecha del siniestro</label></div>
                                    <div class="col-md-3">

                                        <!--    <mat-form-field style="height: 38px !important;">
                                                <input matInput [matDatepicker]="picker1" [formControl]="fechasiniestroagraviado" style="color:rgb(9, 9, 49); color: rgb(9, 9, 49);
                                                width: 277px !important;
                                                height: 33px;
                                                border-color: rgb(232, 229, 235)">
                                                <mat-datepicker-toggle matIconSuffix [for]="picker1" style="position: absolute;"></mat-datepicker-toggle>
                                                <mat-datepicker #picker1 color="primary"></mat-datepicker>
                                          </mat-form-field> -->

                                        <!--   <input type="date" [value]="fechahoy" [max]="fechahoy" class="form-control" [(ngModel)]="fechaseleccionada" formControlName="fechasiniestroagraviado" (change)="obtenerfecha($event)">  -->
                                <input type="date" [value]="fechahoy" [max]="fechahoy" class="form-control" [(ngModel)]="fechaSeleccionada" id="fechaActual" formControlName="fechasiniestroagraviado" (input)="obtenerFechaActual()">
                                    </div>
                                   </div>
                                   <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2"><label for="activarcobertura">Activar cobertura
                                        </label>
                                        </div>
                                        <div class="col-md-8" >
                                            <select  class="form-control" formControlName="activarcoberturaR">
                                                <option value="16023" >GASTOS DE SEPELIO</option>
                                            </select>
                                            <label style="color:brown">Debe seleccionar una cobertura a activar</label>
                                        </div>
                                        <div class="col-md-8">
                                            <select  class="form-control" formControlName="activarcobertura" (change)="changeactivarcobertura($event)">
                                                <option value="1" >SELECCIONE UNA COBERTURA</option>
                                                <option value="16022" >INCAPACIDAD TEMPORAL</option>
                                                <option value="16022" >INVALIDEZ PERMANENTE</option>
                                                <option value="16024" >MUERTE</option>
                                                <option value="16023" >GASTOS MÉDICOS</option>
                                                <option value="16024-GS" >GASTOS DE SEPELIO</option>
                                            </select>
                                            <label style="color:brown">Debe seleccionar una cobertura a activar</label>
                                        </div>
                                   </div>
                              </div>
                            </div>
                        </div>
                   <!--Fin de datos del agraviado-->

                    <!--Icinio de datos de pago-->
                        <div class="col-md-8" >
                            <div class="card" id="datosdepago" >
                                <div class="card-header" style="background-color: rgb(74, 74, 194) !important;">
                                    <h4 style="color:rgb(255, 255, 255);">DATOS DE PAGO</h4>
                                </div>
                              <div class="card-body">
                                <div class="form-group">
                                    <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2">
                                            <label for="metodopago">Método de pago:</label>
                                        </div>
                                        <div class="col-md-8">
                                            <select name="tipoDocumento" class="form-control"  formControlName="slectmetodopago" (change)="changemetodopago($event)">
                                                <option value="16173">PAGO EN VENTANILLA (BANCO DE CRÉDITO DEL PERÚ)</option>
                                                <option value="16174">TRANSFERENCIA BANCARIA</option>

                                            </select>
                                        </div>
                                    </div>
                                    <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2">
                                            <label for="exampleInputPassword1">Entidad Bancaria <span style="color:brown">(*)</span>:</label>
                                        </div>
                                        <div class="col-md-8">
                                            <select name="tipoDocumento" class="form-control" formControlName="slecentidadbancaria" (change)="changeentidadbancaria($event)">
                                                <option value="100">SELECCIONE UNA OPCIÓN</option>
                                                <option value="101">BCP</option>
                                                <option value="102">BBVA</option>
                                                <option value="103">INTERBANK</option>
                                                <option value="104">SCOTIABANK</option>
                                                <option value="105">OTRO</option>

                                            </select>
                                        </div>
                                    </div>
                                    <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2"> <label for="nameentidad">Nombre de entidad</label></div>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" formControlName="nameentidad" style="text-transform: uppercase;">
                                        </div>
                                    </div>
                                    <div class="row mt-3 justify-content-center">
                                        <div class="col-md-2"> <label for="nrocuenta">Nro. Cuenta</label></div>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" formControlName="nrocuenta" style="text-transform: uppercase;">
                                        </div>
                                    </div>
                                    <div class="row mt-3 justify-content-center">
                                    <div class="col-md-2"><label for="codigointerbancario">Código interbancario</label>
                                    </div>
                                        <div class="col-md-8">
                                            <input type="text" class="form-control" formControlName="codigointerbancario" style="text-transform: uppercase;" >
                                        </div>
                                    </div>


                                </div>




                              </div>
                            </div>
                        </div>
                    <!--Fin de datos de pago-->

                    <!-- Documentos requeridos-->
                        <div class="col-md-8">
                            <div class="card" id="documentosrequeridos">
                                <div class="card-header" style="background-color: rgb(74, 74, 194) !important;" >
                                    <h4 style="color:rgb(255, 255, 255);">DOCUMENTOS</h4>
                                </div>
                                <div class="card-body">
                                  <div class="form-group">
                                 <!--   <div class="row mt-3 justify-content-center" >
                                      <div class="col-lg-10 justify-content-center" *ngIf="activarcobertura.value != '16022' || activarcobertura.value != '16024' || activarcobertura.value != '16023' || activarcobertura.value != '16023-gs'" >
                                        <h5 style="color:rgb(104, 104, 104); font-weight: 600; text-align: center;">Debe seleccionar una cobertura a activar</h5>
                                      </div>
                                    </div>-->
                                  </div>

                                    <div class="form-group">
                                        <div class="row mt-3 justify-content-center" >
                                            <div class="col-md-10">
                                                <label for="adjdocumentos" class="titledocument" ><strong>Adjuntar los siguientes documentos para completar la solicitud</strong></label>
                                            </div>
                                        </div>
                                        <!--Adj. Incapacidad temporal y Invalidez permanente-->
                                        <div class="row mt-3 justify-content-center" *ngIf="tipodocumentoagraviado.value == '15474' || activarcobertura.value == '16022'">
                                           <div class="col-md-10">
                                                <div class="card-body bglistadocu">
                                                    <ol>
                                                        <li>Solicitud de Cobertura <a href="#">Descargar Plantilla</a></li>
                                                        <li> Documento de Identidad del Solicitante. </li>
                                                        <li> Documento de Identidad del Lesionado. </li>
                                                        <li> Denuncia Policial.</li>
                                                        <li> Copia del Certificado SOAT.</li>
                                                        <li> Original del Certificado Médico del Lesionado, indicando el menoscabo o porcentaje de Invalidez.</li>
                                                        <li> Original del Certificado médico, donde se señale los días de descanso médico y el diagnóstico</li>
                                                    </ol>
                                                </div>

                                           </div>
                                        </div>
                                        <!-- Lista de documentos cuando sea MUERTE -->
                                        <div class="row mt-3 justify-content-center" *ngIf="activarcobertura.value == '16024'">
                                          <div class="col-md-10">
                                               <div class="card-body bglistadocu">
                                                   <ol>
                                                       <li>Solicitud de Cobertura <a href="#">Descargar Plantilla</a></li>
                                                       <li> Documento de Identidad del Solicitante. </li>
                                                       <li> Documento de Identidad del Beneficiario. </li>
                                                       <li> Certificada de la Denuncia Policial.</li>
                                                       <li>Certificado SOAT.</li>
                                                       <li>Certificado de Defunción del Fallecido.</li>
                                                       <li>Original o Copia Legalizada del Acta o Partida de Matrimonio del Fallecido.</li>
                                                       <li>Original o Copia Legalizada del Acta o Partida de Nacimiento del Beneficiario.
                                                       </li>
                                                       <li>Original de Declaración Jurada con firma legalizada de no existir otros beneficiarios con mayor prioridad.
                                                      </li>
                                                      <li>
                                                        Constancia de apertura de cuenta de ahorros en moneda nacional a nombre del beneficiario menor de 18 años o mayor de 18 años con incapacidad.
                                                      </li>
                                                      <li>
                                                        Copia certificada de la Sentencia Judicial consentida que nombre al Tutor legal/Curador del beneficiario menor de 18 años o mayor de 18 años con incapacidad.
                                                      </li>
                                                   </ol>
                                               </div>

                                          </div>
                                       </div>
                                        <!-- Fin de documentos de MUERTE -->

                                        <!-- Lista de documentos cuando sea GASTOS MEDICOS -->
                                        <div class="row mt-3 justify-content-center" *ngIf="activarcobertura.value == '16023'">
                                          <div class="col-md-10">
                                               <div class="card-body bglistadocu">
                                                   <ol>
                                                       <li>Solicitud de Cobertura <a href="#">Descargar Plantilla</a></li>
                                                       <li>Documento de Identidad del Solicitante. </li>
                                                       <li>Documento de Identidad del Lesionado o Fallecido. </li>
                                                       <li>Documento de Identidad de la persona a quien se le hará el reembolso.</li>
                                                       <li>Denuncia Policial.</li>
                                                       <li>Copia del Certificado SOAT.</li>
                                                       <li>Comprobantes de Pago originales por gastos médicos a nombre de la persona que incurrió en el gasto.</li>
                                                       <li>Original de la Documentación de sustento de la atención médica al Lesionado.
                                                       </li>

                                                   </ol>
                                               </div>

                                          </div>
                                       </div>
                                        <!-- Fin de documentos de GASTOS MEDICOS -->
                                        <!-- Lista de documentos cuando sea GASTOS SEPELIO -->
                                        <div class="row mt-3 justify-content-center" *ngIf="activarcobertura.value == '16024-GS'">
                                        <div class="col-md-10">
                                            <div class="card-body bglistadocu">
                                                <ol>
                                                    <li>Solicitud de Cobertura <a href="#">Descargar Plantilla</a></li>
                                                    <li>Documento de Identidad del Solicitante. </li>
                                                    <li>Documento de Identidad del Lesionado o Fallecido. </li>
                                                    <li>Documento de Identidad de la persona a quien se le hará el reembolso.</li>
                                                    <li>Denuncia Policial.
                                                        </li>
                                                    <li>Copia del Certificado SOAT.</li>
                                                    <li>Comprobantes de Pago originales por gastos médicos a nombre de la persona que incurrió en el gasto.</li>
                                                    <li>Original de la Documentación de sustento de la atención médica al Lesionado.
                                                    </li>

                                                </ol>
                                            </div>

                                        </div>
                                        </div>
                                        <!-- Fin de documentos de GASTOS DE SEPELIO -->

                                    <div class="row mt-3 justify-content-center">
                                        <div class="col-md-5">
                                            Es obligatorio agregar al menos un adjdocumentos
                                            Formatos: PDF, JPEG o PNG. Max 15MB c/u
                                        </div>
                                        <div class="col-md-5" style="float: right !important; border-top-width:2px;">
                                            <label class="custom-file-upload" *ngIf="totalfile > 0 && totalfile > uploadedFiles.length">
                                                <input type="file" (change)="onFileSelected($event)" multiple accept=".jpeg, .pdf, .jpg, .png" style="border-top: 2px solid dimgrey;" > Agregar Archivoss
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row mt-3 justify-content-center">
                                           <div class="col-md-10">
                                            <table class="table ">
                                                <thead>
                                                  <tr style="text-align:center;">
                                                    <th>Nombre</th>
                                                    <th>Tamaño</th>
                                                    <th>Acciones</th>
                                                  </tr>
                                                </thead>
                                                <tbody>
                                                  <tr *ngFor="let file of uploadedFiles">
                                                    <td>{{ file.name }}</td>
                                                    <td style="text-align:center;">{{ file.size }}</td>
                                                    <td style="text-align:center;"><i class="fa fa-trash-o cursor-pointer" (click)="deleteFile(file)" ></i></td>
                                                  </tr>
                                                </tbody>
                                              </table>
                                           </div>
                                    </div>
                                        <br>
                                        <br>
                                        <div class="row justify-content-center t-3">
                                         <div class="col-md-10"class="text-xs-center">
                                           <ngx-recaptcha2 #captchaElem [siteKey]="sitekey" formControlName="recaptcha"></ngx-recaptcha2>
                                         </div>
                                        </div>
                                        <div class="row justify-content-center mt-5">
                                            <div class="col-md-5">
                                                <button class="btn btnRegistrar mb-2 btn-lg btn-block" type="submit">Guardar</button>
                                            </div>
                                            <div class="col-md-5">
                                                <button class="btn btn-secondary btn-lg btn-block mb-2" (click)="CleanFormgroup()"  >Limpiar</button>
                                            </div>
                                      </div>
                                    </div>

                                    <div class="form-group">

                                    </div>
                                </div>
                            </div>
                        </div>
                    <!--Fin de documentos requeridos-->


                </div>
              </form>
        </div>
    </div>
</div>

