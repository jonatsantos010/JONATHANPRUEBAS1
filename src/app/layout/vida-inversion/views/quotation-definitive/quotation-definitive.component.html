<div class="form-group row">
    <div class="col-lg-3">
        <app-nav-menuprod></app-nav-menuprod>
    </div>

    <div class="col-lg-9">

        <nav class="nav-menu-prospects">
            <div class="navigation">

                <div>
                    <app-breadcrumb>
                        <a routerLink="/extranet/vida-inversion/consulta-cotizacion">
                            <i class="fa fa-home"
                               aria-hidden="true"></i>
                            VIDA INVERSIÓN GLOBAL PROTECTA
                        </a>
                        <a routerLink="/extranet/vida-inversion/consulta-cotizacion"> Mis cotizaciones</a>
                        <app-breadcrumb>
                            <a routerLink="/extranet/vida-inversion/consulta-cotizacion">
                                Oficialización
                            </a>
                        </app-breadcrumb>
                    </app-breadcrumb>
                </div>


                <div class="d-flex flex-row align-items-center g-3">
                    <div>
                        <a class="return-link"
                           routerLink="/extranet/vida-inversion/consulta-cotizacion">
                            <i class="fa fa-angle-left"
                               aria-hidden="true"></i>
                            Regresar
                        </a>
                    </div>

                    <div class="bg-light p-2"
                         style=" border-radius: 10px;">
                        <i class="fa fa-circle"
                           style="color: #ed6e00; margin-right: 6px;"></i>
                        <span>Asignado</span>
                    </div>

                </div>

            </div>
        </nav>

        <div class="d-flex justify-content-between flex-wrap mb-2">
            <index-steps [NSTEP]="current_step"
                         [DATA_STEPS_OBJECT]="step_list"></index-steps>
            <P class="subtitle-perfil">Asignado: {{cur_usr.firstName.trim()}} {{cur_usr.lastName.trim()}}</P>
        </div>
        
        <!-- Step 1 -->
        <div class="container-form-and-button"
             *ngIf="current_step == 1">

            <!-- Input Radio Seleccionar Contratante/Asegurado -->
            <div class="tabs"
                 style="margin-bottom: -8px; position: relative;">

                <input type="radio"
                       name="tabs"
                       id="tabone"
                       checked="checked"
                       style="display: none"
                       value="0"
                       [(ngModel)]="type_rol" />
                <label for="tabone"
                       class="tab-label"
                       style="border-top: 1px solid #553d81; border-top-right-radius: 20px; border-top-left-radius: 20px;">Contratante</label>

                <ng-container *ngIf="check_input_value == 0">

                    <input type="radio"
                           name="tabs"
                           id="tabtwo"
                           style="display: none"
                           [(ngModel)]="type_rol"
                           [disabled]="check_input_value == 3 || check_input_value == 1"
                           value="1" />

                    <label for="tabtwo"
                           class="tab-label"
                           (click)="validateCheckInsured()"
                           style="border-top: 1px solid #553d81; border-top-right-radius: 20px; border-top-left-radius: 20px;"
                           [class.tab-disabled]="check_input_value == 3 || check_input_value == 1">Asegurado</label>

                    <img *ngIf="show_guide"
                         src="./assets/vida-inversion/guide.gif"
                         alt="indicador Asegurado"
                         width="23px"
                         height="30px"
                         style="position: absolute;transform: rotate(90deg);left: 29%;">
                </ng-container>

                <!-- <form-button label="Siguiente"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="changeStep(2)"
                             style="position: absolute; top: -15px; right: 0px;"></form-button> -->
            </div>



            <!-- Para Contratante -->
            <div class="d-flex flex-row flex-wrap py-3 px-2"
                 style="border: 1.5px solid #553d81"
                 [class.visibility__hidden]="type_rol == 1">
                <div class="row">
                    <div class="col-lg-9 row">

                        <div class="col-lg-3">
                            <form-input-select text_label="TIPO DE DOCUMENTO(*)"
                                               [(value)]="data_contractor.type_document"
                                               [items]="list_document_type_contractor"
                                               [updateModelOnChange]="true"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [disabled]="data_contractor.type_document_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="NRO. DOCUMENTO(*):"
                                             [(value)]="data_contractor.document_number"
                                             [onlyInput]="true"
                                             [patternPrevent]="CONSTANTS.REGEX[data_contractor.type_document?.Id]"
                                             [disabled]="data_contractor.document_number_disabled">
                            </form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-date text_label="FECHA NACIMIENTO(*):"
                                             [(value)]="data_contractor.birthday_date"
                                             [disabled]="data_contractor.birthday_date_disabled"></form-input-date>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="NOMBRES(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_contractor.names"
                                             [disabled]="data_contractor.names_disabled"
                                             maxCaracter="19">
                            </form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="APELLIDO PATERNO(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_contractor.last_name"
                                             [disabled]="data_contractor.last_name_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="APELLIDO MATERNO(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_contractor.last_name2"
                                             [disabled]="data_contractor.last_name2_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="SEXO(*):"
                                               [(value)]="data_contractor.gender"
                                               [items]="list_gender_contractor"
                                               [updateModelOnChange]="true"
                                               [firstSelect]="true"
                                               fieldCodigo="SSEXCLIEN"
                                               fieldValor="SDESCRIPT"
                                               [disabled]="data_contractor.gender_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="ESTADO CIVIL:"
                                               [(value)]="data_contractor.civil_status"
                                               [items]="list_civil_state_contractor"
                                               [updateModelOnChange]="true"
                                               [firstSelect]="true"
                                               fieldCodigo="NCIVILSTA"
                                               fieldValor="SDESCRIPT"
                                               [disabled]="data_contractor.civil_status_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="NACIONALIDAD:"
                                               [(value)]="data_contractor.nationality"
                                               [items]="list_nationalities_contractor"
                                               [updateModelOnChange]="true"
                                               fieldCodigo="NNATIONALITY"
                                               fieldValor="SDESCRIPT"
                                               [firstSelect]="true"
                                               [disabled]="data_contractor.nationality_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="CELULAR:"
                                             [(value)]="data_contractor.phone"
                                             [onlyInput]="true"
                                             [disabled]="data_contractor.phone_disabled"
                                             [patternPrevent]="CONSTANTS.REGEX.NUMBER"
                                             maxCaracter="9"
                                             (focusout)="validNumber(1)"
                                             classInput="{{ boolNumberCTR ? 'error_label' : 'null' }}"></form-input-text>
                        </div>

                        <div class="col-lg-6">
                            <form-input-text text_label="CORREO ELECTRÓNICO:"
                                             [onlyInput]="true"
                                             [(value)]="data_contractor.email"
                                             [disabled]="data_contractor.email_disabled"
                                             maxCaracter="60"
                                             (focusout)="validEmail(1)"
                                             classInput="{{ boolEmailCTR ? 'error_label' : 'null' }}"
                                             ></form-input-text>
                        </div>

                        <div class="col-lg-12">
                            <form-input-text text_label="DIRECCIÓN:"
                                             [(value)]="data_contractor.address"
                                             [disabled]="data_contractor.address_disabled"
                                             maxCaracter="80"
                                             [onlyInput]="true"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="DEPARTAMENTO:"
                                               [(value)]="data_contractor.department"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [updateModelOnChange]="true"
                                               (onSelect)="onSelectDepartament()"
                                               [items]="list_data_contractor_department"
                                               [disabled]="data_contractor.department_disabled"></form-input-select>
                            <!-- [service]="addressService"
                                 method="getDepartmentList" -->
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="PROVINCIA:"
                                               [(value)]="data_contractor.province"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [items]="list_data_contractor_province"
                                               [updateModelOnChange]="true"
                                               (onSelect)="onSelectProvince()"
                                               [disabled]="data_contractor.province_disabled"></form-input-select>
                        </div>
                        <!-- method="getProvinceList" -->
                        <!-- [service]="addressService" -->
                        <!-- [params]="data_contractor?.department?.Id" -->

                        <div class="col-lg-3">
                            <form-input-select text_label="DISTRITO:"
                                               [(value)]="data_contractor.district"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [items]="list_data_contractor_district"
                                               [updateModelOnChange]="true"
                                               [disabled]="data_contractor.district_disabled"></form-input-select>
                            <!-- [service]="addressService" -->
                            <!-- method="getDistrictList" -->
                            <!-- [params]="data_contractor?.province?.Id == 0 ? null:data_contractor?.province?.Id" -->
                        </div>

                    </div>

                    <div class="col-lg-3 mx-0 py-0">
                        <div class="sub-container1">
                            <div>
                                <h3 class="sub-title">Idecon</h3>

                                <div class="label">
                                    <span class="item">Otras listas</span>
                                    <span class="item-response"> {{ idecon_contractor.otherList }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Es PEP</span>
                                    <span class="item-response"> {{ idecon_contractor.pep }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Tiene Familiar PEP</span>
                                    <span class="item-response"> {{ idecon_contractor.famPep }} </span>
                                </div>
                            </div>
                            <div>
                                <h3 class="sub-title">WorldCheck</h3>

                                <div class="label">
                                    <span class="item">Otras listas</span>
                                    <span class="item-response"> {{ world_check_contractor.otherList }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Es PEP</span>
                                    <span class="item-response"> {{ world_check_contractor.pep }} </span>
                                </div>
                            </div>
                            <div>
                                <h3 class="sub-title">Experian</h3>

                                <div class="label">
                                    <span class="item">Cliente Riesgoso</span>
                                    <span class="item-response"> {{ experian_contractor.riskClient }} </span>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div style="margin-top: 5px; display: flex; align-items: center">
                    <label class="subtitle">El asegurado es la misma persona que contrata el seguro</label>
                    <div class="content-radio-u mr-3">
                        <input type="radio"
                               name="status_contractor"
                               id="client_yes_contractor"
                               class="mark-u orange"
                               [value]="1"
                               [checked]="check_input_value == 1"
                               (click)="changeValue(1)"
                               [disabled]="status_contractor_disabled" />
                        <label for="client_yes_contractor"
                               class="radio-label-u orange mark-u">
                            Sí
                        </label>
                    </div>
                    <div class="content-radio-u">
                        <input type="radio"
                               name="status_contractor"
                               id="client_no_contractor"
                               class="mark-u orange"
                               [value]="0"
                               [checked]="check_input_value == 0"
                               (click)="changeValue(0)"
                               [disabled]="status_contractor_disabled"/>
                        <label for="client_no_contractor"
                               class="radio-label-u orange mark-u">
                            No
                        </label>
                    </div>
                </div>
                <div class="container-form2">
                    <div class="container-subtitle">
                        <span>Datos Complementarios del Contratante</span>
                    </div>

                    <div class="container-form2-container-select">
                        <div>
                            <span>OCUPACIÓN:</span>
                        </div>
                        <div style="min-width: 300px;">
                            <form-input-select [(value)]="data_complementary.occupation_status"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [updateModelOnChange]="true"
                                               [disabled]="data_complementary.occupation_status_disabled"
                                               [items]="list_occupation_contractor"></form-input-select>
                        </div>
                    </div>

                    <div style="display: flex; align-items: center; color: #553d81;">


                        <div class="content-radio-u">

                            <input type="radio"
                                   name="nationality_check"
                                   id="nationality_check_yes"
                                   class="mark-u orange"
                                   value="0"
                                   [value]="1"
                                   [checked]="check_input_nationality == 1"
                                   (click)="changeValueNationality(1)"
                                   [disabled]="check_input_nationality_disabled"
                                 />
                            <label for="nationality_check_yes"
                                   class="radio-label-u orange mark-u"
                                   >
                                Sí
                            </label>
                        </div>
                        <div class="content-radio-u-2">
                            <input type="radio"
                                   name="nationality_check"
                                   id="nationality_check_no"
                                   class="mark-u orange"
                                   [value]="0"
                                   [checked]="check_input_nationality == 0"
                                   (click)="changeValueNationality(0)"
                                   [disabled]="check_input_nationality_disabled"
                                    />
                            <label for="nationality_check_no"
                                   class="radio-label-u orange mark-u"
                                   >
                                No
                            </label>
                        </div>
                        <label class="subtitle-checkbox"
                               style="font-weight: bold;">¿Es de nacionalidad estadounidense?</label>
                    </div>


                    <div style="display: flex; align-items: center; color: #553d81;">
                        <div class="content-radio-u">
                            <input type="radio"
                                   name="paret_check"
                                   id="paret_check_yes"
                                   class="mark-u orange"
                                   [value]="1"
                                   [disabled]="check_input_relationship_disabled"
                                   [checked]="check_input_relationship == 1"
                                   (click)="changeValueRelationship(1)" />
                            <label for="paret_check_yes"
                                   class="radio-label-u orange mark-u"
                                   >
                                Sí
                            </label>
                        </div>
                        <div class="content-radio-u-2">
                            <input type="radio"
                                   name="paret_check"
                                   id="paret_check_no"
                                   class="mark-u orange"
                                   [value]="0"
                                   [disabled]="check_input_relationship_disabled"
                                   [checked]="check_input_relationship == 0"
                                   (click)="changeValueRelationship(0)" />
                            <label for="paret_check_no"
                                   class="radio-label-u orange mark-u"
                                   >
                                No
                            </label>
                        </div>
                        <label class="subtitle-checkbox"
                               style="font-weight: bold;">¿Es conyuge o pariente hasta segundo grado de
                            consanguinidad (abuelo(a), padre, madre, hijo(a), hermano(a), nieto(a)) de uno o más PEP?</label>
                    </div>


                    <div style="display: flex; align-items: center; color: #553d81;">
                        <div class="content-radio-u">
                            <input type="radio"
                                   name="obligation_check"
                                   id="obligation_check_yes"
                                   class="mark-u orange" 
                                   [disabled]="check_input_fiscal_obligations_disabled"
                                   [value]="1"
                                   [checked]="check_input_fiscal_obligations == 1"
                                   (click)="changeValueFiscal_obligations(1)" />
                            <label for="obligation_check_yes"
                                   class="radio-label-u orange mark-u"
                                   >
                                Sí
                            </label>
                        </div>
                        <div class="content-radio-u-2">
                            <input type="radio"
                                   name="obligation_check"
                                   id="obligation_check_no"
                                   class="mark-u orange"
                                   [disabled]="check_input_fiscal_obligations_disabled"
                                   [value]="0"
                                   [checked]="check_input_fiscal_obligations == 0"
                                   (click)="changeValueFiscal_obligations(0)" />
                            <label for="obligation_check_no"
                                   class="radio-label-u orange mark-u"
                                   >
                                No
                            </label>
                        </div>
                        <label class="subtitle-checkbox"
                               style="font-weight: bold;">¿El asegurado tiene obligaciones
                            fiscales/tributarias
                            fuera del Perú?</label>
                    </div>

                    <div>

                        <span class="text-span"
                              style="color:#ed6e00; font-weight: bold;">Se debe completar todos los datos para poder
                            continuar con el proceso.</span>
                    </div>

                </div>
            </div>

            <!-- Para Asegurado -->
            <div class="d-flex flex-row flex-wrap py-3 px-2"
                 style="border: 1.5px solid #553d81"
                 [class.visibility__hidden]="type_rol == 0">
                <div class="row">
                    <div class="col-lg-9 row">

                        <div class="col-lg-3">
                            <form-input-select text_label="TIPO DE DOCUMENTO(*)"
                                               [(value)]="data_insured.type_document"
                                               [service]="clientInformationService"
                                               method="getDocumentTypeList"
                                               [params]="CODPRODUCTO_PROFILE"
                                               [updateModelOnChange]="true"
                                               [firstSelect]="true"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [disabled]="data_insured.type_document_disabled"
                                               (onSelect)="changeDocumentType(2)"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="NRO. DOCUMENTO(*):"
                                             [(value)]="data_insured.document_number"
                                             [onlyInput]="true"
                                             [disabled]="data_insured.document_number_disabled"
                                             (onKeyenter)="search(2)"
                                             [patternPrevent]="CONSTANTS.REGEX[data_insured.type_document?.Id]"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-date text_label="FECHA NACIMIENTO(*):"
                                             [(value)]="data_insured.birthday_date"
                                             [disabled]="data_insured.birthday_date_disabled"></form-input-date>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="NOMBRES(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.names"
                                             [patternPrevent]="CONSTANTS.REGEX.LETRAS"
                                             [disabled]="data_insured.names_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="APELLIDO PATERNO(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.last_name"
                                             [patternPrevent]="CONSTANTS.REGEX.LETRAS"
                                             [disabled]="data_insured.last_name_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="APELLIDO MATERNO(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.last_name2"
                                             [patternPrevent]="CONSTANTS.REGEX.LETRAS"
                                             [disabled]="data_insured.last_name2_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="SEXO(*):"
                                               [(value)]="data_insured.gender"
                                               [service]="clientInformationService"
                                               method="getGenderList"
                                               [params]="CONSTANTS.WITHOUT_PARAMS"
                                               [updateModelOnChange]="true"
                                               fieldCodigo="SSEXCLIEN"
                                               fieldValor="SDESCRIPT"
                                               [disabled]="data_insured.gender_disabled"
                                               [firstSelect]="true"
                                               [large]="false"></form-input-select>

                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="ESTADO CIVIL:"
                                               [(value)]="data_insured.civil_status"
                                               [service]="clientInformationService"
                                               method="getCivilStatusList"
                                               [params]="CONSTANTS.WITHOUT_PARAMS"
                                               [firstSelect]="true"
                                               [updateModelOnChange]="true"
                                               fieldCodigo="NCIVILSTA"
                                               fieldValor="SDESCRIPT"
                                               [disabled]="data_insured.civil_status_disabled"
                                               [large]="false"></form-input-select>
                        </div>
                        <!-- [items]="list_civil_state_insured" -->

                        <div class="col-lg-3">
                            <form-input-select text_label="NACIONALIDAD:"
                                               [(value)]="data_insured.nationality"
                                               [service]="clientInformationService"
                                               method="getNationalityList"
                                               [params]="CONSTANTS.WITHOUT_PARAMS"
                                               fieldCodigo="NNATIONALITY"
                                               fieldValor="SDESCRIPT"
                                               [firstSelect]="true"
                                               [updateModelOnChange]="true"
                                               [disabled]="data_insured.nationality_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="CELULAR:"
                                             [(value)]="data_insured.phone"
                                             [onlyInput]="true"
                                             [disabled]="data_insured.phone_disabled"
                                             [patternPrevent]="CONSTANTS.REGEX.NUMBER"
                                             maxCaracter="9"
                                             (focusout)="validNumber(2)"
                                             classInput="{{ boolNumberASG ? 'error_label' : 'null' }}"></form-input-text>

                        </div>

                        <div class="col-lg-6">
                            <form-input-text text_label="CORREO ELECTRÓNICO:"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.email"
                                             [disabled]="data_insured.email_disabled"
                                             maxCaracter="60"
                                             (focusout)="validEmail(2)"
                                             classInput="{{ boolEmailASG ? 'error_label' : 'null' }}"
                                             ></form-input-text>
                        </div>

                        <div class="col-lg-12">
                            <form-input-text text_label="DIRECCIÓN:"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.address"
                                             [disabled]="data_insured.address_disabled"
                                             maxCaracter="80"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="DEPARTAMENTO:"
                                               [(value)]="data_insured.department"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [updateModelOnChange]="true"
                                               (onSelect)="onSelectDepartamentInsured()"
                                               [items]="list_data_insured_department"
                                               [disabled]="data_insured.department_disabled"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="PROVINCIA:"
                                               [(value)]="data_insured.province"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [items]="list_data_insured_province"
                                               [updateModelOnChange]="true"
                                               (onSelect)="onSelectProvinceInsured()"
                                               [disabled]="data_insured.province_disabled"></form-input-select>
                            <!-- [params]="data_insured.department.Id" -->
                            <!-- [service]="addressService" -->
                            <!-- method="getProvinceList" -->
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="DISTRITO:"
                                               [(value)]="data_insured.district"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [items]="list_data_insured_district"
                                               [updateModelOnChange]="true"
                                               [disabled]="data_insured.district_disabled"></form-input-select>

                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="PARENTESCO CON EL CONTRATANTE"
                                               [(value)]="data_insured.relation"
                                               [large]="false"
                                               [service]="quotationService"
                                               method="getRelationBenefeciaries"
                                               [params]="CONSTANTS.WITHOUT_PARAMS"
                                               fieldCodigo="COD_ELEMENTO"
                                               fieldValor="GLS_ELEMENTO"
                                               [firstSelect]="true"
                                               [updateModelOnChange]="true"></form-input-select>
                        </div>
                    </div>

                    <div class="col-lg-3 mx-0 py-0">
                        <div class="sub-container1">
                            <div>
                                <h3 class="sub-title">Idecon</h3>

                                <div class="label">
                                    <span class="item">Otras listas</span>
                                    <span class="item-response"> {{ idecon_insured.otherList }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Es PEP</span>
                                    <span class="item-response"> {{ idecon_insured.pep }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Tiene Familiar PEP</span>
                                    <span class="item-response"> {{ idecon_insured.famPep }} </span>
                                </div>
                            </div>
                            <div>
                                <h3 class="sub-title">WorldCheck</h3>

                                <div class="label">
                                    <span class="item">Otras listas</span>
                                    <span class="item-response"> {{ world_check_insured.otherList }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Es PEP</span>
                                    <span class="item-response"> {{ world_check_insured.pep }} </span>
                                </div>
                            </div>
                            <div>
                                <h3 class="sub-title">Experian</h3>

                                <div class="label">
                                    <span class="item">Cliente Riesgoso</span>
                                    <span class="item-response"> {{ experian_insured.riskClient }} </span>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div class="container_button_next mt-3">
                <form-button label="Siguiente"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="changeStep(2)"></form-button>
            </div>
        </div>

        <!-- Step 2 -->
        <div class="container-form-and-button"
             *ngIf="current_step == 2">
            <div class="tabs"
                 style="margin-bottom: -9px;">
                <input type="radio"
                       name="datos_pep"
                       id="datos_pep"
                       checked="checked"
                       style="display: none" />
                <label for="datos_pep"
                       class="tab-label-one">Datos PEP</label>

            </div>


            <div style="border: 1.5px solid #553d81">

                <div class="p-3">

                    <div class="d-flex align-items-center my-3"
                         style="color: #553d81; font-weight: bold;">
                        <div class="col-lg-3">Datos del PEP:</div>
                        <div class="col-lg-2"
                             *ngIf="value_pep == 0">INCOMPLETO</div>
                        <div class="col-lg-2"
                             *ngIf="value_pep == 1">COMPLETO</div>
                        <div *ngIf="registerDatapet" class="col-lg-2">
                            <form-button label="Registrar"
                                         btnClass="btn-primary-VI"
                                         (click)="openPepModal()"></form-button>
                        </div>
                    </div>

                    <div class="d-flex align-items-center my-3"
                         style="color: #553d81; font-weight: bold;">
                        <div class="col-lg-3">Bienes e Inmuebles:</div>
                        <div class="col-lg-2"
                             *ngIf="value_properties == 0">INCOMPLETO</div>
                        <div class="col-lg-2"
                             *ngIf="value_properties == 1">COMPLETO</div>
                        <div *ngIf="registerDatapet" class="col-lg-2">
                            <form-button label="Registrar"
                                         btnClass="btn-primary-VI"
                                         (click)="openPropertyModal()"></form-button>
                        </div>
                    </div>

                    <div class="d-flex align-items-center my-3"
                         style="color: #553d81; font-weight: bold;">
                        <div class="col-lg-3">Relación de Personas:</div>
                        <div class="col-lg-2"
                             *ngIf="value_relationship == 0">INCOMPLETO</div>
                        <div class="col-lg-2"
                             *ngIf="value_relationship == 1">COMPLETO</div>
                        <div *ngIf="registerDatapet" class="col-lg-2">
                            <form-button label="Registrar"
                                         btnClass="btn-primary-VI"
                                         (click)="openRelationsModal()"></form-button>
                        </div>
                    </div>

                    <div class="d-flex align-items-center my-3"
                         style="color: #553d81; font-weight: bold;">
                        <div class="col-lg-3">Declaración Jurada:</div>
                        <div class="col-lg-2"
                             *ngIf="value_declaration == 0">INCOMPLETO</div>
                        <div class="col-lg-2"
                             *ngIf="value_declaration == 1">COMPLETO</div>
                        <div *ngIf="registerDatapet" class="col-lg-2">
                            <form-button label="Registrar"
                                         btnClass="btn-primary-VI"
                                         (click)="openDeclarationModal()"></form-button>
                        </div>
                    </div>

                </div>
            </div>

            <div class="container_button_next mt-3">
                <form-button label="Siguiente"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="changeStep(3)"></form-button>
                <form-button label="Regresar"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="previusStep(1)"></form-button>
            </div>

        </div>

        <!-- Step 3 -->
        <div class="container-form-and-button"
            *ngIf="current_step == 3">
            <div class="tabs"
                 style="margin-bottom: -8px;">
                <input type="radio"
                       name="data_quotation"
                       id="data_quotation"
                       checked="checked"
                       style="display: none" />
                <label for="data_quotation"
                       class="tab-label-one">Cotización</label>
            </div>

            <div style="border: 1.5px solid #553d81">

                <div class="p-3">
                    <div class="row">

                        <!-- <div class="col-lg-2">
                            <form-input-select text_label="TIEMPO DE AHORRO:"
                                               fieldCodigo="COD_PRODUCT"
                                               fieldValor="DES_PRODUCT"
                                               [items]="TIME"
                                               [large]="true"
                                               [disabled]="true"></form-input-select>
                        </div> -->

                        <div class="col-lg-2">
                            <form-input-select text_label="MONEDA:"
                                               fieldCodigo="NCODIGINT"
                                               fieldValor="SDESCRIPT"
                                               [large]="true"
                                               [items]="CURRENCY"
                                               [disabled]="true"
                                               [(value)]="quotation.moneda"></form-input-select>
                        </div>

                        <div class="col-lg-2">
                            <form-input-text text_label="MONTO DE INVERSIÓN:"
                                             [large]="true"
                                             [(value)]="quotation.contribution"
                                             (valueChange)="changeStyleCredit()"
                                             [patternPrevent]="CONSTANTS.REGEX.HUNDREDS_NUMBER"
                                             [disabled]="true"></form-input-text>
                        </div>

                        <div class="col-lg-2">
                            <form-input-select text_label="TIPO DE FONDO:"
                                               fieldCodigo="NFUNDS"
                                               fieldValor="SDESCRIPT"
                                               [items]="investment"
                                               [large]="true"
                                               [disabled]="true"
                                               [(value)]="quotation.fondo"></form-input-select>
                        </div>

                        <div class="col-lg-2">
                            <form-input-date text_label="FECHA ABONO:"
                                             [large]="true"
                                             [(value)]="quotation.date_fund"
                                             [minDateSup]="quotation.date_fund"
                                             [disabled]="quotation.date_fund_disabled"></form-input-date>
                        </div>

                    </div>

                    <div style="margin-top: 6px; margin-bottom: 11px; display: flex; align-items: center">
                        <label class="subtitle">Mis beneficiarios serán mis herederos legales</label>
                        <div class="content-radio-u mr-3">
                            <input type="radio"
                                   name="status_contractor2"
                                   id="client_yes_contractor2"
                                   class="mark-u orange"
                                   [value]="1"
                                   [disabled]="check_input_value_beneficiary_disabled"
                                   [checked]="check_input_value_beneficiary == 1"
                                   (click)="changeValueBenefeciary(1)" />
                            <label for="client_yes_contractor2"
                                   class="radio-label-u orange mark-u">
                                Sí
                            </label>
                        </div>
                        <div class="content-radio-u">
                            <input type="radio"
                                   name="status_contractor"
                                   id="client_no_contractor"
                                   class="mark-u orange"
                                   [value]="0"
                                   [disabled]="check_input_value_beneficiary_disabled"
                                   [checked]="check_input_value_beneficiary == 0"
                                   (click)="changeValueBenefeciary(0)" />
                            <label for="client_no_contractor"
                                   class="radio-label-u orange mark-u">
                                No
                            </label>
                        </div>
                    </div>


                    <div *ngIf="check_input_value_beneficiary == 0">
                        <div class="d-flex mb-3"
                             style="margin-top: -2px;">
                            <form-button label="Agregar beneficiarios" 
                                         btnClass="btn-primary-VI text-nowrap"
                                         [disabled]="dissabled_btn_modal_add_benef"
                                         (click)="OpenModalBeneficiary('add', null)"></form-button>
                        </div>
                        <div class="table-responsive TableMargin_short div-tableban"
                             id="table-scroll">
                            <table class="table-u"
                                   style="width: 82.5%; margin: 6px; margin-bottom: 6px;">
                                <thead>
                                    <tr>
                                        <th>Doc. Identidad</th>
                                        <th>Nombres</th>
                                        <th>Parentesco</th>
                                        <th>Asignación(%)</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-container *ngIf="!list_benefeciarys?.length">
                                        <tr class="grid-body">
                                            <td class="grid-body-item"
                                                colspan="12"
                                                style="text-align: center">
                                                No hay informacion para mostrar
                                            </td>
                                        </tr>
                                    </ng-container>
                                    <ng-container *ngIf="!!list_benefeciarys?.length">
                                        <tr class="grid-body"
                                            *ngFor="
                                      let item of list_benefeciarys
                                      let index = index
                                    "
                                            [id]="'row' + index">
                                            <td class="hovert">{{item.desc_type_doc}}-{{ item.siddoc }}</td>
                                            <td class="hovert">{{ item.sfirstname }} {{ item.slastname }} {{ item.slastname2 }}
                                            </td>
                                            <td class="hovert">{{ item.srelation_name }}</td>
                                            <td class="hovert">{{ item.percentage_participation }}</td>
                                            <td>
                                                <div style="display: flex; justify-content: center;">
                                                    <div class="p-2"
                                                    [ngStyle]="dissabled_btn_modal_add_benef ? { 'opacity': '0.5','cursor': 'not-allowed' } : { 'cursor': 'pointer' }"
                                                        (click)="OpenModalBeneficiary('edit', item)"
                                                         style="cursor: pointer;">
                                                        <i class="fa fa-edit"
                                                           style=" margin-right: 2px; color: #553d81;"></i>
                                                        <span>Editar</span>
                                                    </div>

                                                    <div class="p-2"
                                                    [ngStyle]="dissabled_btn_modal_add_benef ? { 'opacity': '0.5','cursor': 'not-allowed' } : { 'cursor': 'pointer' }"
                                                        (click)="deleteBenefeciary(item)"
                                                         style="cursor: pointer;">
                                                        <i class="fa fa-trash"
                                                           style=" margin-right: 2px; color:red"></i>
                                                        <span>Eliminar</span>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </ng-container>

                                 

                                </tbody>
                            </table>

                            <div *ngIf="list_benefeciarys != null && list_benefeciarys.length > 0"
                                 style="display: flex">
                                <div class="col-sm-12">
                                    <ngb-pagination [(page)]="currentPage"
                                                    [pageSize]="itemsPerPage"
                                                    [collectionSize]="totalItems"
                                                    [maxSize]="maxSize"
                                                    (pageChange)="pageChanged(currentPage)">
                                        <ng-template ngbPaginationPrevious>ANTERIOR</ng-template>
                                        <ng-template ngbPaginationNext>SIGUIENTE</ng-template>
                                    </ngb-pagination>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="container-origen-fondo">
                        <div class="my-3" style="width: fit-content;">
                            <form-button label="Detalle Origen de Fondo"
                                         btnClass="btn-primary-VI"
                                         [disabled]="dissabled_btn_modal_detail_origin"
                                         (click)="OpenModalDetailOrigin('add')"></form-button>
                        </div>
                        <table class="table-u"
                               style="width: 34%;">
                            <thead style="color: #fff;">
                                <tr>
                                    <th>Origen de fondo</th>
                                    <th>Asignación (%)</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="hovert">Ahorro</td>
                                    <td class="hovert">{{origin_fund_saving_percent}}</td>

                                    <td *ngIf="actions" >
                                        <div style="display: flex; justify-content: center;">
                                            <div class="p-2"
                                               [ngStyle]="dissabled_btn_modal_add_benef ? { 'opacity': '0.5','cursor': 'not-allowed' } : { 'cursor': 'pointer' }"
                                                 (click)="OpenModalDetailOrigin('edit')"   style="cursor: pointer;">
                                                <i class="fa fa-edit"
                                                   style=" margin-right: 2px; color: #553d81;"></i>
                                                <span>Editar</span>
                                            </div>

                                            <div class="p-2"
                                                [ngStyle]="dissabled_btn_modal_add_benef ? { 'opacity': '0.5','cursor': 'not-allowed' } : { 'cursor': 'pointer' }"
                                                (click)="deleteDetailOrigin()"   style="cursor: pointer;">
                                                <i class="fa fa-trash"
                                                   style=" margin-right: 2px; color:red"></i>
                                                <span>Eliminar</span>
                                            </div>
                                        </div>
                                    </td>

                                </tr>
                                <tr>
                                    <td class="hovert">SPP</td>
                                    <td class="hovert">{{origin_fund_spp_percent}}</td>
                                </tr>



                            </tbody>
                        </table>

                    </div>

                </div>
            </div>


            <div class="container_button_next mt-3">
                <form-button label="Siguiente"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="changeStep(4)"></form-button>
                <form-button label="Regresar"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="previusStep(2)"></form-button>
            </div>

        </div>

        <!-- Step 4 -->
        <div class="container-form-and-button"
             *ngIf="current_step == 4">
            <div class="tabs"
                 style="margin-bottom: -9px;">
                <input type="radio"
                       name="datos_pep"
                       id="datos_pep"
                       checked="checked"
                       style="display: none" />
                <label for="datos_pep"
                       class="tab-label-one">Perfilamiento</label>
            </div>


            <div style="border: 1.5px solid #553d81; color: #553d81;">

                <div class="p-3">

                    <div class="container-form-options-check">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="container_input_check1">
                                    <label>1.¿En cúanto tiempo piensa usar el dinero que vas a
                                        invertir en el producto?</label>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question1"
                                               id="question1_option1"
                                               class="mark-u-perfilamiento"
                                               value="A"
                                               [(ngModel)]="perfilamiento.question1"
                                               [disabled]="perfilamiento.question1_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question1_option1"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Menor de 3 años
                                        </label>
                                    </div>

                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question1"
                                               id="question1_option2"
                                               class="mark-u-perfilamiento"
                                               value="B"
                                               [(ngModel)]="perfilamiento.question1"
                                               [disabled]="perfilamiento.question1_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question1_option2"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Entre 3 y 7 años
                                        </label>
                                    </div>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question1"
                                               id="question1_option3"
                                               class="mark-u-perfilamiento"
                                               value="C"
                                               [(ngModel)]="perfilamiento.question1"
                                               [disabled]="perfilamiento.question1_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question1_option3"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            No tengo pensado gastarlo
                                        </label>
                                    </div>
                                </div>

                                <div class="container_input_check2">
                                    <label>2. ¿Cúal es tu fuente de ingreso?</label>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question2"
                                               id="question2_option1"
                                               class="mark-u-perfilamiento"
                                               value="A"
                                               [(ngModel)]="perfilamiento.question2"
                                               [disabled]="perfilamiento.question2_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question2_option1"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Dependiente
                                        </label>
                                    </div>

                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question2"
                                               id="question2_option2"
                                               class="mark-u-perfilamiento"
                                               value="B"
                                               [(ngModel)]="perfilamiento.question2"
                                               [disabled]="perfilamiento.question2_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question2_option2"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Independiente
                                        </label>
                                    </div>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question2"
                                               id="question2_option3"
                                               class="mark-u-perfilamiento "
                                               value="C"
                                               [(ngModel)]="perfilamiento.question2"
                                               [disabled]="perfilamiento.question2_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question2_option3"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Pensionista
                                        </label>
                                    </div>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question2"
                                               id="question2_option4"
                                               class="mark-u-perfilamiento "
                                               value="D"
                                               [(ngModel)]="perfilamiento.question2"
                                               [disabled]="perfilamiento.question2_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question2_option4"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Otros
                                        </label>
                                    </div>
                                </div>

                                <div class="container_input_check3">
                                    <!-- <label>3. ¿Qué porcentaje de tu ingreso Ahorras/Inviertes (Promedio)?</label> -->
                                    <label>3. ¿Qué porcentaje de tu ingreso Ahorras/Inviertes?</label>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question3"
                                               id="question3_option1"
                                               class="mark-u-perfilamiento"
                                               value="A"
                                               [(ngModel)]="perfilamiento.question3"
                                               [disabled]="perfilamiento.question3_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question3_option1"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Más del 50%
                                        </label>
                                    </div>

                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question3"
                                               id="question3_option2"
                                               class="mark-u-perfilamiento"
                                               value="B"
                                               [(ngModel)]="perfilamiento.question3"
                                               [disabled]="perfilamiento.question3_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question3_option2"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Entre 30% y 50%
                                        </label>
                                    </div>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question3"
                                               id="question3_option3"
                                               class="mark-u-perfilamiento"
                                               value="C"
                                               [(ngModel)]="perfilamiento.question3"
                                               [disabled]="perfilamiento.question3_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question3_option3"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Entre 10% y 30%
                                        </label>
                                    </div>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question3"
                                               id="question3_option4"
                                               class="mark-u-perfilamiento"
                                               value="D"
                                               [(ngModel)]="perfilamiento.question3"
                                               [disabled]="perfilamiento.question3_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question3_option4"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Menos de 10%
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="container_input_check4">
                                    <label>4. Elige el escenario que preferirías</label>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question4"
                                               id="question4_option1"
                                               class="mark-u-perfilamiento"
                                               value="A"
                                               [(ngModel)]="perfilamiento.question4"
                                               [disabled]="perfilamiento.question4_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question4_option1"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Máxima ganancia posible 10% y máxima perdida posible -2%
                                        </label>
                                    </div>

                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question4"
                                               id="question4_option2"
                                               class="mark-u-perfilamiento "
                                               value="B"
                                               [(ngModel)]="perfilamiento.question4"
                                               [disabled]="perfilamiento.question4_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question4_option2"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Máxima ganancia posible 15% y máxima pérdida posible -5%
                                        </label>
                                    </div>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question4"
                                               id="question4_option3"
                                               class="mark-u-perfilamiento "
                                               value="C"
                                               [(ngModel)]="perfilamiento.question4"
                                               [disabled]="perfilamiento.question4_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question4_option3"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Máxima ganancia posible 20% y máxima perdida posible -10%
                                        </label>
                                    </div>
                                </div>

                                <div class="container_input_check5">
                                    <label>5. Elige una de estas opciones:</label>
                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question5"
                                               id="question5_option1"
                                               class="mark-u-perfilamiento "
                                               value="A"
                                               [(ngModel)]="perfilamiento.question5"
                                               [disabled]="perfilamiento.question5_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question5_option1"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Invertir en un activo de alto rendimiento pero con baja probabilidad de éxito.
                                        </label>
                                    </div>

                                    <div class="d-flex">
                                        <input type="radio"
                                               name="step4_question5"
                                               id="question5_option2"
                                               class="mark-u-perfilamiento "
                                               value="B"
                                               [(ngModel)]="perfilamiento.question5"
                                               [disabled]="perfilamiento.question5_disabled"
                                               (ngModelChange)="onChangeOptionPerfilamiento($event)" />
                                        <label for="question5_option2"
                                               class="radio-label-u  mark-u-perfilamiento">
                                            Invertir en un activo de bajo retorno pero más seguro.
                                        </label>
                                    </div>
                                    <!-- INI Bloques diseño -->
                                    <div class="d-flex"
                                         style="visibility: hidden;">
                                        <input type="radio"
                                               name=""
                                               id=""
                                               class="mark-u-perfilamiento"
                                               value="" />
                                        <label for=""
                                               class="radio-label-u  mark-u-perfilamiento">
                                        </label>
                                    </div>
                                    <div class="d-flex"
                                         style="visibility: hidden;">
                                        <input type="radio"
                                               name=""
                                               id=""
                                               class="mark-u-perfilamiento"
                                               value="" />
                                        <label for=""
                                               class="radio-label-u  mark-u-perfilamiento">
                                        </label>
                                    </div>
                                    <!-- FIN Bloques diseño -->

                                </div>

                                <div class=""
                                     style="border:1px solid #553d81;border-radius: 6px;padding: 10px;display: flex; flex-direction:column;align-items: center;">
                                    <p style="color: #553d81;">
                                        PERFIL DE INVERSIONISTA
                                    </p>

                                    <p>
                                        {{desc_scoring}}
                                    </p>
                                    <p>
                                        {{recomendacion}}
                                    </p>

                                </div>


                            </div>
                        </div>

                    </div>

                    <div>

                    </div>
                </div>
            </div>

            <div class="container_button_next mt-3">
                <form-button label="Siguiente"
                             btnClass="btn-orange text-nowrap orange"
                             [disabled]="dissabled_next_button"
                             (click)="changeStep(5)"></form-button>
                <form-button label="Regresar"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="previusStep(3)"></form-button>
            </div>

        </div>

        <!-- Step 5 -->
        <div class="container-form-and-button"
             *ngIf="current_step == 5">

            <div class="container-form-and-button">
                <div class="tabs"
                     style="margin-bottom: -8px;">

                    <input type="radio"
                           name="tabs"
                           id="tabone"
                           checked="checked"
                           #insuredRadioInput
                           style="display: none" />
                    <label for="tabone"
                           class="tab-label">File del cliente</label>

                </div>

                <div class="p-3"
                     style="border: 1.5px solid #553d81">
                    <div class="row">
                        <div class="col-lg-10">
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr class="grid-title table-head">
                                            <td class="grid-title-item text-center">Tipo</td>
                                            <td class="grid-title-item text-center">Nombre del archivo</td>
                                            <td class="grid-title-item text-center">Acciones</td>
                                            <td class="grid-title-item text-center"></td>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <ng-container *ngIf="!!filesList?.length">
                                            <tr class="table-body" *ngFor="let item of filesList; let i = index">
                                                <!-- TIPO -->
                                                <td class="table-body-item text-left">
                                                    <span *ngIf="item.P_FLAG == 1 || item.P_FLAG == 2 || item.P_FLAG == 4 || item.P_FLAG == 6 || item.P_FLAG == 7">
                                                        {{ item.P_NAME }}
                                                    </span>
                                                    <span *ngIf="item.P_FLAG == 3 || item.P_FLAG == 5">
                                                        <input type="text" class="form-control border-0"
                                                            placeholder="OTROS" [(ngModel)]="item.P_NAME"
                                                            maxlength="50" (input)="toUpper($event)" (paste)="toUpper($event)" />
                                                    </span>
                                                </td>
                                                <!-- NOMBRE -->
                                                <td class="table-body-item" [ngClass]="item.P_TYPE ? 'text-left' : 'text-center'">
                                                    <span>
                                                        {{ item.P_TYPE ? item.P_TYPE : '—' }}
                                                    </span>
                                                </td>
                                                <!-- ACCIONES -->
                                                <td class="table-body-item text-center">
                                                    <input #fileUpload type="file" style="display: none;"
                                                        (click)="fileUpload.value = null" (change)="importFile($event, item)">
                                                    <button class="dwn" *ngIf="item.P_STATUS == 0 && item.P_FLAG != 1 && item.P_FLAG != 6 && item.P_FLAG != 7 && profile_id != 203 && profile_id != 196"
                                                        (click)="fileUpload.click()">Adjuntar archivo</button>
                                                    <button class="dwn" *ngIf="item.P_STATUS == 1"
                                                        (click)="exportFile(item)">Descargar archivo</button>
                                                </td>
                                                <!-- MÁS ACCIONES -->
                                                <td class="table-body-item text-left">
                                                    <i title="Descargar" style="cursor: pointer;"
                                                        class="fa fa-download fa-lg" *ngIf="item.P_STATUS == 1 && profile_id != 203 && profile_id != 196"
                                                        (click)="exportFile(item)"></i>
                                                    <i title="Eliminar" style="cursor: pointer;"
                                                        class="fa fa-trash fa-lg" *ngIf="profile_id != 203 && profile_id != 196 && ((item.P_FLAG == 2 || item.P_FLAG == 4) && item.P_STATUS == 1) || item.P_FLAG == 5"
                                                        (click)="deleteFile(item, i)"></i>
                                                    <i title="Agregar" style="cursor: pointer;"
                                                        class="fa fa-plus fa-lg" *ngIf="item.P_FLAG == 3 && profile_id != 203 && profile_id != 196"
                                                        (click)="addFile()"></i>
                                                    <!-- <i title="Visualizar" style="cursor: pointer;"
                                                        class="fa fa-search fa-lg" *ngIf="item.P_STATUS == 1 && item.P_TYPE.split('.').pop() == 'pdf'"
                                                        (click)="visualizeFile(item, pdfviewer)"></i> -->
                                                </td>
                                            </tr>
                                        </ng-container>
                                    </tbody>

                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- <div class="container-form-and-button mt-3">
                <div class="tabs"
                     style="margin-bottom: -8px;">
                    <input type="radio"
                           name="tabs2"
                           id="tabone2"
                           checked="checked"
                           #insuredRadioInput2
                           style="display: none" />
                    <label for="tabone2"
                           class="tab-label">Comentarios</label>
                </div>
                <div class="p-3 w-100"
                     style="border: 1.5px solid #553d81">
                    <div class="row justify-content-md-center">
                        <div class="col col-lg-8 px-5 pt-1">
                            <div class="p-2 custom-input"
                                 style="border: 1px solid #553d81; border-radius: 8px;">
                                <div class="input-group px-1">
                                    <input type="text"
                                           class="form-control border-0"
                                           placeholder="Comentario">
                                    <button class="btn-orange pt-1 pb-1 pl-3 pr-3"
                                            type="button">Comentar</button>
                                </div>
                            </div>

                            <table class="table table-borderless">
                                <tr class="border-bottom"
                                    style="color: #553d81;">
                                    <td class="p-0 pt-2 pb-2"
                                        style="width: 80px;"><i class="fa fa-user welcome__icon"
                                           aria-hidden="true"></i></td>
                                    <td class="p-0 pt-2 pb-2"
                                        style="width: 180px;">
                                        <span style="font-weight: bolder"
                                              class="welcome__info--item i1"
                                              [innerHTML]="currentUser"></span>
                                        <br>
                                        <span class="welcome__info--item i2"
                                              [innerHTML]="channelDescription"></span>
                                    </td>
                                    <td class="p-0 pt-2 pb-2"
                                        style="color: gray;">
                                        Primer comentario
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div> -->

            <div class="container_button_next mt-3">
                <!-- <form-button label="Derivar Supervisor"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="SendSupervisor()"></form-button> -->
                <form-button label="Siguiente"
                            btnClass="btn-orange text-nowrap orange"
                            (click)="changeStep(6)"></form-button>
                <form-button label="Regresar"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="previusStep(4)"></form-button>
            </div>
        </div>

        <!-- Step 6 -->
        <div class="container-form-and-button"
            *ngIf="current_step == 6">

                <div class="tabs"
                     style="margin-bottom: -8px;">

                    <input type="radio"
                           name="tabs"
                           id="tabone"
                           checked="checked"
                           #insuredRadioInput
                           style="display: none" />
                    <label for="tabone"
                           class="tab-label">Cotización Definitiva</label>

                </div>

                <div class="p-3"
                     style="border: 1.5px solid #553d81">
                    <div class="row justify-content-md-center">
                        <div class="col col-lg-4 border rounded-5 pl-5 pr-5 pt-4 pb-3">
                            <h5 class="mb-3"
                                style="color: #553d81; font-weight: bold;">Datos del producto</h5>
                            <table class="table table-borderless"
                                style="color: gray;">
                                <tr>
                                    <td class="p-0">Prima Total</td>
                                    <!-- <td class="p-0">XX.XX</td> -->
                                    <td class="p-0">{{ quotation.contribution }}</td>
                                </tr>
                                <!-- <tr>
                                    <td class="p-0">Periodo</td>
                                    <td class="p-0">{{ quotation.periodo }} años</td>
                                </tr> -->
                                <tr>
                                    <td class="p-0">Moneda</td>
                                    <td class="p-0">{{ quotation.monedaDesc }}</td>
                                </tr>
                                <tr>
                                    <td class="p-0">Fecha de abono</td>
                                    <td class="p-0">{{ quotation.date_fundDesc }}</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="row justify-content-md-center mt-3" *ngIf="profile_id == 192">
                        <div class="col col-lg-3 border rounded-5 pl-5 pr-5 pt-4 pb-3">
                            <div class="text-center">
                                <h5 style="color: #553d81; font-weight: bold;">Scoring</h5>
                            </div>
                            <div class="text-center mt-2">
                                <button class="btn btn-gray pt-2 pb-2 pl-4 pr-4 rounded-5" type="button" (click)="scoring()" *ngIf="showScoreBtn">Calcular</button>
                                <h4 class="mb-3" style="color: #ed6e00; font-weight: bold; text-align: center;" *ngIf="!showScoreBtn">{{ randomItem }}</h4>
                            </div>
                            <div class="text-center mt-2" *ngIf="comentarios?.length > 0">
                                <small style="color: #553d81; font-weight: bold;">({{ comentarios[0].SDESCRIPTION }})</small>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="tabs mt-3"
                    style="margin-bottom: -8px;">
                    <input type="radio"
                        name="tabs2"
                        id="tabone2"
                        checked="checked"
                        #insuredRadioInput2
                        style="display: none" />
                    <label for="tabone2"
                        class="tab-label">Comentarios</label>
                </div>

                <div class="p-3"
                    style="border: 1.5px solid #553d81">
                    <div class="row justify-content-md-center">
                        <div class="col col-lg-8 px-5 pt-1">
                            <div class="custom-input p-2"
                                style="border: 1px solid #553d81; border-radius: 8px;">
                                <div class="input-group">
                                    <input type="text"
                                        class="form-control border-0"
                                        placeholder="Comentario"
                                        [(ngModel)]="comentario">
                                    <!-- <button class="btn-orange pt-1 pb-1 pl-3 pr-3"
                                            type="button">Comentar</button> -->
                                </div>
                            </div>

                            <table class="table table-borderless">
                                <tr class="border-bottom"
                                    style="color: #553d81;" [id]="'row' + index"
                                    *ngFor="let item of comentarios; let index = index">
                                    <td class="p-0 pt-2 pb-2" style="width: 80px;">
                                        <i class="fa fa-user welcome__icon" aria-hidden="true"></i>
                                    </td>
                                    <td class="p-0 pt-2 pb-2" style="width: 180px;">
                                        <span style="font-weight: bolder"
                                            class="welcome__info--item i1"
                                            [innerHTML]="item.SNAME"></span>
                                        <br>
                                        <span class="welcome__info--item i2"
                                            [innerHTML]="item.DEFFECDATE"></span>
                                    </td>
                                    <td class="p-0 pt-2 pb-2" style="color: gray">
                                        {{ item.SCOMMENT }}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>

                <div class="mt-3 d-grid gap-2 d-md-flex justify-content-md-end">
                    <!-- SUPERVISOR -->
                    <button class="btn btn-orange pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 194"
                        (click)="derivadoAJefe()">Derivar Jefe</button>
                    <!-- JEFE -->
                    <button class="btn btn-gray pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 195"
                        (click)="observadoPorJefe()">Observar</button>
                    <button class="btn btn-orange pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 195"
                        (click)="derivadoASoporte()">Derivar Soporte</button>
                    <!-- SOPORTE -->
                    <button class="btn btn-gray pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 192"
                        (click)="cancelar()">Cancelar</button>
                    <button class="btn btn-gray pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 192 && (this.NID_STATE !== 7 && this.NID_STATE !== 10 && this.NID_STATE !==12)"
                        (click)="observadoPorSoporteASupervisor()">Observar al Supervisor</button>
                    <button class="btn btn-gray pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 192 && (this.NID_STATE !== 7 && this.NID_STATE !== 10 && this.NID_STATE !==12)"
                        (click)="observadoPorSoporteAJefe()">Observar al Jefe</button>
                    <button class="btn btn-orange pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 192 && showCoordinadorBtn"
                        (click)="derivadoACoordinador()">Derivar a Coordinador</button>
                    <button class="btn btn-orange pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 192 && showGerenteBtn"
                        (click)="derivadoAGerente()">Derivar a Gerente</button>
                    <button class="btn btn-orange pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 192 && (this.NID_STATE == 10 || this.NID_STATE == 7|| this.randomItem == 'Bajo')&& this.NID_STATE !==12"
                        (click)="derivadoAFirmas()">Derivar para Firmas</button>
                    <button class="btn btn-orange pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="NID_STATE == 12 && !this.firmaManuscrita"
                        >Firma Electronica</button>
                    <button class="btn btn-orange pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="NID_STATE == 12 && !this.firmaManuscrita"
                        (click)="openFileModal()">Firma Manuscrita</button>       
                    <!-- COORDINADOR -->
                    <button class="btn btn-gray pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 203"
                        (click)="rechazadoPorCoordinador()">Rechazar</button>
                    <button class="btn btn-orange pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 203"
                        (click)="aprobadoPorCoordinador()">Aprobar</button>
                    <!-- GERENTE -->
                    <button class="btn btn-gray pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 196"
                        (click)="rechazadoPorGerente()">Rechazar</button>
                    <button class="btn btn-orange pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 196"
                        (click)="aprobadoPorGerente()">Aprobar</button>
                    <!-- OPERACIONES -->
                    <button class="btn btn-gray pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 192 && this.NID_STATE == 12 && this.firmaManuscrita"
                        (click)="derivadoAOperaciones()">Enviar operaciones</button>
                    <button class="btn btn-gray pt-2 pb-2 pl-4 pr-4 mr-3 rounded-5"
                        type="button" *ngIf="profile_id == 136 && this.NID_STATE == 14"
                        >Crear</button>
                </div>

                <div class="container_button_next mt-3">
                    <form-button btnClass="d-none"></form-button>
                    <form-button label="Regresar"
                        btnClass="btn-orange text-nowrap orange"
                        (click)="previusStep(5)"></form-button>
                </div>
        </div>

    </div>
</div>

<div [hidden]="!isLoading" class="loadingScreen">
    <div style="display: flex; height: 100%; width: 100%">
        <i style="margin: auto; font-size: 50px" class="fa fa-spinner fa-spin"></i>
    </div>
</div>

<!-- VISOR DE PDF-->
<ng-template #pdfviewer let-modal>
    <div class="modal-header">
        <p class="title" id="modal-basic-title">
            VISOR DE DOCUMENTO (.PDF)
        </p>
    </div>

    <div class="modal-body">
        <div id="outerContainer">
            <div class="pdf-container">
                <ngx-extended-pdf-viewer
                    [src]="pdfFile"
                    height="70vh"
                    useBrowserLocale="true"
                    [showUnverifiedSignatures]="true"
                ></ngx-extended-pdf-viewer>
            </div>
          </div>
    </div>

    <div class="modal-footer">
        <div class="container_button_next mt-3">
            <form-button label="Cerrar" btnClass="btn-orange text-nowrap orange" (click)="modal.dismiss('Cross click')"></form-button>
        </div>
    </div>
</ng-template>