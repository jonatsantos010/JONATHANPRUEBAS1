<div class="form-group row">
    <div class="col-lg-3">
        <app-nav-menuprod></app-nav-menuprod>
    </div>

    <div class="col-lg-9">

        <nav class="nav-menu-prospects">
            <div class="navigation">

                <div>
                    <app-breadcrumb>
                        <a routerLink="/extranet/vida-inversion/consulta-cotizacion">
                            <i class="fa fa-home"
                               aria-hidden="true"></i>
                            VIDA INVERSIÓN GLOBAL PROTECTA
                        </a>
                        <a routerLink="/extranet/vida-inversion/consulta-cotizacion"> Mis cotizaciones</a>
                        <app-breadcrumb>
                            <a routerLink="/extranet/vida-inversion/consulta-cotizacion">
                                Nueva cotización
                            </a>
                        </app-breadcrumb>
                    </app-breadcrumb>
                </div>


                <div class="d-flex flex-row align-items-center g-3">
                    <div>
                        <a class="return-link"
                           routerLink="/extranet/vida-inversion/consulta-cotizacion">
                            <i class="fa fa-angle-left"
                               aria-hidden="true"></i>
                            Regresar
                        </a>
                    </div>

                    <div class="bg-light p-2"
                         style=" border-radius: 10px;">
                        <i class="fa fa-circle"
                           style="color: #ed6e00; margin-right: 6px;"></i>
                        <span>Asignado</span>
                    </div>

                </div>

            </div>
        </nav>

        <div class="d-flex justify-content-between flex-wrap mb-2">
            <index-steps [NSTEP]="current_step"
                         [DATA_STEPS_OBJECT]="steps_list"></index-steps>
            <P class="subtitle-perfil">Asignado: {{cur_usr.firstName.trim()}} {{cur_usr.lastName.trim()}}</P>
        </div>

        <div class="container-form-and-button"
             *ngIf="current_step == 1">

            <!-- Input Radio Seleccionar Contratante/Asegurado -->
            <div class="tabs"
                 style="margin-bottom: -8px; position: relative;">

                <input type="radio"
                       name="tabs"
                       id="tabone"
                       checked="checked"
                       style="display: none"
                       value="0"
                       [(ngModel)]="type_rol" />
                <label for="tabone"
                       class="tab-label"
                       style="border-top: 1px solid #553d81; border-top-right-radius: 20px; border-top-left-radius: 20px;">Contratante</label>

                <ng-container *ngIf="check_input_value == 0">

                    <input type="radio"
                           name="tabs"
                           id="tabtwo"
                           style="display: none"
                           [(ngModel)]="type_rol"
                           [disabled]="check_input_value == 3 || check_input_value == 1"
                           value="1" />

                    <label for="tabtwo"
                           class="tab-label"
                           (click)="validateCheckInsured()"
                           style="border-top: 1px solid #553d81; border-top-right-radius: 20px; border-top-left-radius: 20px;"
                           [class.tab-disabled]="check_input_value == 3 || check_input_value == 1">Asegurado</label>

                    <img *ngIf="show_guide"
                         src="./assets/vida-inversion/guide.gif"
                         alt="indicador Asegurado"
                         width="23px"
                         height="30px"
                         style="position: absolute;transform: rotate(90deg);left: 29%;">
                </ng-container>

                <form-button label="Cotizar"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="changeStep(2)"
                             style="position: absolute; top: -15px; right: 0px;"></form-button>
            </div>



            <!-- Para Contratante -->
            <div class="d-flex flex-row flex-wrap py-3 px-2"
                 style="border: 1.5px solid #553d81"
                 [class.visibility__hidden]="type_rol == 1">
                <div class="row">
                    <div class="col-lg-9 row">

                        <div class="col-lg-3">
                            <form-input-select text_label="TIPO DE DOCUMENTO(*)"
                                               [(value)]="data_contractor.type_document"
                                               [items]="list_document_type_contractor"
                                               [updateModelOnChange]="true"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [disabled]="data_contractor.type_document_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="NRO. DOCUMENTO(*):"
                                             [(value)]="data_contractor.document_number"
                                             [onlyInput]="true"
                                             [patternPrevent]="CONSTANTS.REGEX[data_contractor.type_document?.Id]"
                                             [disabled]="data_contractor.document_number_disabled">
                            </form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-date text_label="FECHA NACIMIENTO(*):"
                                             [(value)]="data_contractor.birthday_date"
                                             [disabled]="data_contractor.birthday_date_disabled"></form-input-date>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="NOMBRES(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_contractor.names"
                                             [disabled]="data_contractor.names_disabled"
                                             maxCaracter="19">
                            </form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="APELLIDO PATERNO(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_contractor.last_name"
                                             [disabled]="data_contractor.last_name_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="APELLIDO MATERNO(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_contractor.last_name2"
                                             [disabled]="data_contractor.last_name2_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="SEXO(*):"
                                               [(value)]="data_contractor.gender"
                                               [items]="list_gender_contractor"
                                               [updateModelOnChange]="true"
                                               [firstSelect]="true"
                                               fieldCodigo="SSEXCLIEN"
                                               fieldValor="SDESCRIPT"
                                               [disabled]="data_contractor.gender_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="ESTADO CIVIL:"
                                               [(value)]="data_contractor.civil_status"
                                               [items]="list_civil_state_contractor"
                                               [updateModelOnChange]="true"
                                               [firstSelect]="true"
                                               fieldCodigo="NCIVILSTA"
                                               fieldValor="SDESCRIPT"
                                               [disabled]="data_contractor.civil_status_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="NACIONALIDAD:"
                                               [(value)]="data_contractor.nationality"
                                               [items]="list_nationalities_contractor"
                                               [updateModelOnChange]="true"
                                               fieldCodigo="NNATIONALITY"
                                               fieldValor="SDESCRIPT"
                                               [firstSelect]="true"
                                               [disabled]="data_contractor.nationality_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="CELULAR:"
                                             [(value)]="data_contractor.phone"
                                             [onlyInput]="true"
                                             [disabled]="data_contractor.phone_disabled"
                                             [patternPrevent]="CONSTANTS.REGEX.NUMBER"
                                             maxCaracter="9"
                                             (focusout)="validNumber(1)"
                                             classInput="{{ boolNumberCTR ? 'error_label' : 'null' }}"></form-input-text>
                        </div>

                        <div class="col-lg-6">
                            <form-input-text text_label="CORREO ELECTRÓNICO:"
                                             [onlyInput]="true"
                                             [(value)]="data_contractor.email"
                                             [disabled]="data_contractor.email_disabled"
                                             maxCaracter="60"
                                             (focusout)="validEmail(1)"
                                             classInput="{{ boolEmailCTR ? 'error_label' : 'null' }}"></form-input-text>
                        </div>

                        <div class="col-lg-12">
                            <form-input-text text_label="DIRECCIÓN:"
                                             [(value)]="data_contractor.address"
                                             [disabled]="data_contractor.address_disabled"
                                             maxCaracter="80"
                                             [onlyInput]="true"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="DEPARTAMENTO:"
                                               [(value)]="data_contractor.department"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [updateModelOnChange]="true"
                                               (onSelect)="onSelectDepartament()"
                                               [items]="list_data_contractor_department"
                                               [disabled]="data_contractor.department_disabled"></form-input-select>
                            <!-- [service]="addressService"
                                 method="getDepartmentList" -->
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="PROVINCIA:"
                                               [(value)]="data_contractor.province"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [items]="list_data_contractor_province"
                                               [updateModelOnChange]="true"
                                               (onSelect)="onSelectProvince()"
                                               [disabled]="data_contractor.province_disabled"></form-input-select>
                        </div>
                        <!-- method="getProvinceList" -->
                        <!-- [service]="addressService" -->
                        <!-- [params]="data_contractor?.department?.Id" -->

                        <div class="col-lg-3">
                            <form-input-select text_label="DISTRITO:"
                                               [(value)]="data_contractor.district"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [items]="list_data_contractor_district"
                                               [updateModelOnChange]="true"
                                               [disabled]="data_contractor.district_disabled"></form-input-select>
                            <!-- [service]="addressService" -->
                            <!-- method="getDistrictList" -->
                            <!-- [params]="data_contractor?.province?.Id == 0 ? null:data_contractor?.province?.Id" -->
                        </div>

                    </div>

                    <div class="col-lg-3 mx-0 py-0">
                        <div class="sub-container1">
                            <div>
                                <h3 class="sub-title">Idecon</h3>

                                <div class="label">
                                    <span class="item">Otras listas</span>
                                    <span class="item-response"> {{ idecon_contractor.otherList }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Es PEP</span>
                                    <span class="item-response"> {{ idecon_contractor.pep }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Tiene Familiar PEP</span>
                                    <span class="item-response"> {{ idecon_contractor.famPep }} </span>
                                </div>
                            </div>
                            <div>
                                <h3 class="sub-title">WorldCheck</h3>

                                <div class="label">
                                    <span class="item">Otras listas</span>
                                    <span class="item-response"> —— </span>
                                </div>

                                <div class="label">
                                    <span class="item">Es PEP</span>
                                    <span class="item-response"> —— </span>
                                </div>
                            </div>
                            <div>
                                <h3 class="sub-title">Experian</h3>

                                <div class="label">
                                    <span class="item">Cliente Riesgoso</span>
                                    <span class="item-response"> —— </span>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div style="margin-top: 5px; display: flex; align-items: center">
                    <label class="subtitle">El asegurado es la misma persona que contrata el seguro</label>
                    <div class="content-radio-u mr-3">
                        <input type="radio"
                               name="status_contractor"
                               id="client_yes_contractor"
                               class="mark-u orange"
                               [value]="1"
                               [checked]="check_input_value == 1"
                               (click)="changeValue(1)" />
                        <label for="client_yes_contractor"
                               class="radio-label-u orange mark-u">
                            Sí
                        </label>
                    </div>
                    <div class="content-radio-u">
                        <input type="radio"
                               name="status_contractor"
                               id="client_no_contractor"
                               class="mark-u orange"
                               [value]="0"
                               [checked]="check_input_value == 0"
                               (click)="changeValue(0)" />
                        <label for="client_no_contractor"
                               class="radio-label-u orange mark-u">
                            No
                        </label>
                    </div>
                </div>

            </div>

            <!-- Para Asegurado -->
            <div class="d-flex flex-row flex-wrap py-3 px-2"
                 style="border: 1.5px solid #553d81"
                 [class.visibility__hidden]="type_rol == 0">
                <div class="row">
                    <div class="col-lg-9 row">

                        <div class="col-lg-3">
                            <form-input-select text_label="TIPO DE DOCUMENTO(*)"
                                               [(value)]="data_insured.type_document"
                                               [service]="clientInformationService"
                                               method="getDocumentTypeList"
                                               [params]="CODPRODUCTO_PROFILE"
                                               [updateModelOnChange]="true"
                                               [firstSelect]="true"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [disabled]="data_insured.type_document_disabled"
                                               (onSelect)="changeDocumentType(2)"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="NRO. DOCUMENTO(*):"
                                             [(value)]="data_insured.document_number"
                                             [onlyInput]="true"
                                             [disabled]="data_insured.document_number_disabled"
                                             (onKeyenter)="search(2)"
                                             [patternPrevent]="CONSTANTS.REGEX[data_insured.type_document?.Id]"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-date text_label="FECHA NACIMIENTO(*):"
                                             [(value)]="data_insured.birthday_date"
                                             [disabled]="data_insured.birthday_date_disabled"></form-input-date>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="NOMBRES(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.names"
                                             [disabled]="data_insured.names_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="APELLIDO PATERNO(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.last_name"
                                             [disabled]="data_insured.last_name_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="APELLIDO MATERNO(*):"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.last_name2"
                                             [disabled]="data_insured.last_name2_disabled"
                                             maxCaracter="19"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="SEXO(*):"
                                               [(value)]="data_insured.gender"
                                               [service]="clientInformationService"
                                               method="getGenderList"
                                               [params]="CONSTANTS.WITHOUT_PARAMS"
                                               [updateModelOnChange]="true"
                                               fieldCodigo="SSEXCLIEN"
                                               fieldValor="SDESCRIPT"
                                               [disabled]="data_insured.gender_disabled"
                                               [firstSelect]="true"
                                               [large]="false"></form-input-select>

                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="ESTADO CIVIL:"
                                               [(value)]="data_insured.civil_status"
                                               [service]="clientInformationService"
                                               method="getCivilStatusList"
                                               [params]="CONSTANTS.WITHOUT_PARAMS"
                                               [firstSelect]="true"
                                               [updateModelOnChange]="true"
                                               fieldCodigo="NCIVILSTA"
                                               fieldValor="SDESCRIPT"
                                               [disabled]="data_insured.civil_status_disabled"
                                               [large]="false"></form-input-select>
                        </div>
                        <!-- [items]="list_civil_state_insured" -->

                        <div class="col-lg-3">
                            <form-input-select text_label="NACIONALIDAD:"
                                               [(value)]="data_insured.nationality"
                                               [service]="clientInformationService"
                                               method="getNationalityList"
                                               [params]="CONSTANTS.WITHOUT_PARAMS"
                                               fieldCodigo="NNATIONALITY"
                                               fieldValor="SDESCRIPT"
                                               [firstSelect]="true"
                                               [updateModelOnChange]="true"
                                               [disabled]="data_insured.nationality_disabled"
                                               [large]="false"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-text text_label="CELULAR:"
                                             [(value)]="data_insured.phone"
                                             [onlyInput]="true"
                                             [disabled]="data_insured.phone_disabled"
                                             [patternPrevent]="CONSTANTS.REGEX.NUMBER"
                                             maxCaracter="9"
                                             (focusout)="validNumber(2)"
                                             classInput="{{ boolNumberASG ? 'error_label' : 'null' }}"></form-input-text>

                        </div>

                        <div class="col-lg-6">
                            <form-input-text text_label="CORREO ELECTRÓNICO:"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.email"
                                             [disabled]="data_insured.email_disabled"
                                             maxCaracter="60"
                                             (focusout)="validEmail(2)"
                                             classInput="{{ boolEmailASG ? 'error_label' : 'null' }}"></form-input-text>
                        </div>

                        <div class="col-lg-12">
                            <form-input-text text_label="DIRECCIÓN:"
                                             [onlyInput]="true"
                                             [(value)]="data_insured.address"
                                             [disabled]="data_insured.address_disabled"
                                             maxCaracter="80"></form-input-text>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="DEPARTAMENTO:"
                                               [(value)]="data_insured.department"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [updateModelOnChange]="true"
                                               (onSelect)="onSelectDepartamentInsured()"
                                               [items]="list_data_insured_department"
                                               [disabled]="data_insured.department_disabled"></form-input-select>
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="PROVINCIA:"
                                               [(value)]="data_insured.province"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [items]="list_data_insured_province"
                                               [updateModelOnChange]="true"
                                               (onSelect)="onSelectProvinceInsured()"
                                               [disabled]="data_insured.province_disabled"></form-input-select>
                            <!-- [params]="data_insured.department.Id" -->
                            <!-- [service]="addressService" -->
                            <!-- method="getProvinceList" -->
                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="DISTRITO:"
                                               [(value)]="data_insured.district"
                                               fieldCodigo="Id"
                                               fieldValor="Name"
                                               [firstSelect]="true"
                                               [large]="false"
                                               [items]="list_data_insured_district"
                                               [updateModelOnChange]="true"
                                               [disabled]="data_insured.district_disabled"></form-input-select>

                        </div>

                        <div class="col-lg-3">
                            <form-input-select text_label="PARENTESCO CON EL CONTRATANTE"
                                               [(value)]="data_insured.relation"
                                               [large]="false"
                                               [service]="quotationService"
                                               method="getRelationBenefeciaries"
                                               [params]="CONSTANTS.WITHOUT_PARAMS"
                                               fieldCodigo="COD_ELEMENTO"
                                               fieldValor="GLS_ELEMENTO"
                                               [firstSelect]="true"
                                               [updateModelOnChange]="true"></form-input-select>
                        </div>

                    </div>

                    <div class="col-lg-3 mx-0 py-0">
                        <div class="sub-container1">
                            <div>
                                <h3 class="sub-title">Idecon</h3>

                                <div class="label">
                                    <span class="item">Otras listas</span>
                                    <span class="item-response"> {{ idecon_insured.otherList }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Es PEP</span>
                                    <span class="item-response"> {{ idecon_insured.pep }} </span>
                                </div>

                                <div class="label">
                                    <span class="item">Tiene Familiar PEP</span>
                                    <span class="item-response"> {{ idecon_insured.famPep }} </span>
                                </div>
                            </div>
                            <div>
                                <h3 class="sub-title">WorldCheck</h3>

                                <div class="label">
                                    <span class="item">Otras listas</span>
                                    <span class="item-response"> —— </span>
                                </div>

                                <div class="label">
                                    <span class="item">Es PEP</span>
                                    <span class="item-response"> —— </span>
                                </div>
                            </div>
                            <div>
                                <h3 class="sub-title">Experian</h3>

                                <div class="label">
                                    <span class="item">Cliente Riesgoso</span>
                                    <span class="item-response"> —— </span>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 2 -->
        <div class="container-form-and-button"
             *ngIf="current_step == 2">
            <div class="tabs"
                 style="margin-bottom: -9px;">

                <input type="radio"
                       name="new_quotation"
                       id="input_new_quotation"
                       checked="checked"
                       style="display: none" />
                <label for="input_new_quotation"
                       class="tab-label-one">Nueva Cotización</label>

            </div>


            <div class=""
                 style="border: 1.5px solid #553d81">

                <div class="container-inputs-and-radio-input p-3">
                    <div class="row">

                        <!-- <div class="col-lg-2">
                            <form-input-select text_label="TIEMPO DE AHORRO:"
                                               [large]="true"
                                               [items]="TIME"
                                               fieldCodigo="NVALUE"
                                               fieldValor="SDESCRIPTION"
                                               [(value)]="quotation.saving_time"
                                               [large]="true"></form-input-select>
                        </div> -->

                        <div class="col-lg-2">
                            <form-input-select text_label="MONEDA:"
                                               [large]="true"
                                               [items]="CURRENCY"
                                               [(value)]="quotation.currency"
                                               fieldCodigo="NCODIGINT"
                                               fieldValor="SDESCRIPT"></form-input-select>
                        </div>

                        <div class="col-lg-2">
                            <form-input-text text_label="MONTO DE INVERSIÓN:"
                                             [large]="true"
                                             [(value)]="quotation.contribution"
                                             [patternPrevent]="CONSTANTS.REGEX.HUNDREDS_NUMBER"
                                             (valueChange)="changeStyleCredit()"></form-input-text>
                        </div>

                        <div class="col-lg-2">
                            <form-input-select text_label="TIPO DE FONDO:"
                                               [large]="true"
                                               [(value)]="quotation.funds"
                                               fieldCodigo="NFUNDS"
                                               fieldValor="SDESCRIPT"
                                               [items]="investment"></form-input-select>
                        </div>

                        <div class="col-lg-2">
                            <form-input-date text_label="FECHA ABONO:"
                                             [(value)]="quotation.date_fund"
                                             [minDateSup]="min_date_fund"
                                             [large]="true"></form-input-date>
                        </div>

                        <div class="col-lg-2"
                             style="display: flex;align-items: center;">
                            <button type="button"
                                    class="mt-3 btn-orange"
                                    (click)="CreateQuotePreliminary()">
                                <span>Agregar cotización</span>
                            </button>
                        </div>
                    </div>

                    <div style="margin-top: 6px; margin-bottom: 11px; display: flex; align-items: center">
                        <label class="subtitle">Mis beneficiarios serán mis herederos legales</label>
                        <div class="content-radio-u mr-3">
                            <input type="radio"
                                   name="status_contractor2"
                                   id="client_yes_contractor2"
                                   class="mark-u orange"
                                   [value]="1"
                                   [checked]="check_input_value_beneficiary == 1"
                                   (click)="changeValueBenefeciary(1)" />
                            <label for="client_yes_contractor2"
                                   class="radio-label-u orange mark-u">
                                Sí
                            </label>
                        </div>
                        <div class="content-radio-u">
                            <input type="radio"
                                   name="status_contractor2"
                                   id="client_no_contractor2"
                                   class="mark-u orange"
                                   [value]="0"
                                   [checked]="check_input_value_beneficiary == 0"
                                   (click)="changeValueBenefeciary(0)" />
                            <label for="client_no_contractor2"
                                   class="radio-label-u orange mark-u">
                                No
                            </label>
                        </div>
                    </div>

                    <div *ngIf="check_input_value_beneficiary == 0">
                        <div class="d-flex mb-3"
                             style="margin-top: -2px;">
                            <form-button label="Agregar beneficiarios"
                                         btnClass="btn-primary-VI text-nowrap"
                                         (click)="OpenModalBeneficiary('add', null)"></form-button>
                        </div>
                        <div class="table-responsive TableMargin_short div-tableban"
                             id="table-scroll">
                            <table class="table-u"
                                   style="width: 82.5%; margin: 6px; margin-bottom: 6px;">
                                <thead>
                                    <tr>
                                        <th>Doc. Identidad</th>
                                        <th>Nombres</th>
                                        <th>Parentesco</th>
                                        <th>Asignación(%)</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-container *ngIf="!listToShow?.length">
                                        <tr class="grid-body">
                                            <td class="grid-body-item"
                                                colspan="12"
                                                style="text-align: center">
                                                No hay informacion para mostrar
                                            </td>
                                        </tr>
                                    </ng-container>
                                    <ng-container *ngIf="!!listToShow?.length">
                                        <tr class="grid-body"
                                            *ngFor="
                                      let item of listToShow
                                      let index = index
                                    "
                                            [id]="'row' + index">
                                            <td class="hovert">{{item.desc_type_doc}}-{{ item.siddoc }}</td>
                                            <td class="hovert">{{ item.sfirstname }} {{ item.slastname }} {{ item.slastname2 }}
                                            </td>
                                            <td class="hovert">{{ item.srelation_name }}</td>
                                            <td class="hovert">{{ item.percentage_participation }}</td>
                                            <td>
                                                <div style="display: flex; justify-content: center;">
                                                    <div class="p-2"
                                                         (click)="OpenModalBeneficiary('edit', item)"
                                                         style="cursor: pointer;">
                                                        <i class="fa fa-edit"
                                                           style=" margin-right: 2px; color: #553d81;"></i>
                                                        <span>Editar</span>
                                                    </div>

                                                    <div class="p-2"
                                                         (click)="deleteBenefeciary(item)"
                                                         style="cursor: pointer;">
                                                        <i class="fa fa-trash"
                                                           style=" margin-right: 2px; color:red"></i>
                                                        <span>Eliminar</span>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </ng-container>


                                </tbody>
                            </table>

                            <div *ngIf="listToShow != null && listToShow.length > 0"
                                 style="display: flex">
                                <div class="col-sm-12">
                                    <ngb-pagination [(page)]="currentPage"
                                                    [pageSize]="itemsPerPage"
                                                    [collectionSize]="totalItems"
                                                    [maxSize]="maxSize"
                                                    (pageChange)="pageChanged(currentPage)">
                                        <ng-template ngbPaginationPrevious>ANTERIOR</ng-template>
                                        <ng-template ngbPaginationNext>SIGUIENTE</ng-template>
                                    </ngb-pagination>
                                </div>
                            </div>
                        </div>
                    </div>


                    <panel-widget text_title="Lista de Cotizaciones"
                                  style="background-origin: #553d81">
                        <div class="tabs2">
                            <input type="radio"
                                   name="tabs"
                                   id="tabone"
                                   checked="checked"
                                   style="display: none" />
                            <label for="tabone"
                                   class="label-one">
                                <i class="fa fa-check fa-lg mr-1"
                                   aria-hidden="true"></i>Cotizaciones vigentes</label>

                            <div class="tab2"
                                 style="margin-bottom: -25px;">
                                <div class="group-button">
                                    <form-button label="Enviar cotización"
                                                 btnClass="btn-primary-VI"
                                                 (click)="SendQuotationList()"></form-button>
                                    <form-button label="Cotización definitiva"
                                                 btnClass="btn-orange orange"
                                                 (click)="goToDefinitiveQuote()"
                                                 *ngIf="profile_id == 192 || profile_id == 194 || profile_id == 195"></form-button>
                                </div>

                                <div class="grid form-group">
                                    <!-- <div class="table-responsive TableMargin" id="table-scroll"> -->
                                    <div class="table-responsive"
                                         id="table-scroll">
                                        <table class="table-u">
                                            <thead>
                                                <tr>
                                                    <th *ngIf="profile_id == 192 || profile_id == 194 || profile_id == 195">Sel.
                                                    </th>
                                                    <th>Nro. Cotización</th>
                                                    <!-- <th>Tiempo de ahorro</th> -->
                                                    <th>Moneda</th>
                                                    <!-- <th style="min-width: 80px;">Aporte</th> -->
                                                    <th style="min-width: 80px;">Monto de Inversión</th>
                                                    <!-- <th>Fondo</th> -->
                                                    <th>Tipo de Fondo</th>
                                                    <th>Fecha preliminar</th>
                                                    <th>Fecha definitiva</th>
                                                    <th>Estado</th>
                                                    <!-- <th class="d-flex"> -->
                                                    <th>
                                                        Enviar
                                                        <input type="checkbox"
                                                               class="mark-u orange"
                                                               name="chk-quotation"
                                                               [(ngModel)]="masterChecked"
                                                               (change)="checkAllQuotations($event.target.checked)"
                                                               id="quotation-head"
                                                               style="margin-left: 4px;" />
                                                        <label for="quotation-head"
                                                               class="mark-u orange center ml-2">
                                                        </label>
                                                    </th>
                                                    <th>Acciones</th>
                                                </tr>
                                            </thead>
                                            <tbody style="color: #553d81;">
                                                <ng-container *ngIf="!listToShowV?.length">
                                                    <tr>
                                                        <td colspan="12">No hay información para mostrar</td>
                                                    </tr>
                                                </ng-container>

                                                <ng-container *ngIf="!!listToShowV?.length">
                                                    <tr class="grid-body"
                                                        *ngFor=" let item of listToShowV let index = index "
                                                        [id]="'row' + index">
                                                        <td *ngIf="profile_id == 192 || profile_id == 194 || profile_id == 195">
                                                            <input type="radio"
                                                                   class="mark-u orange"
                                                                   name="radio-quotation"
                                                                   [checked]="chekedsumamaxima"
                                                                   [id]="item.QuotationNumber"
                                                                   (change)="selectCotizacion(item)" />
                                                            <label [for]="item.QuotationNumber"
                                                                   class="mark-u orange"></label>
                                                        </td>
                                                        <td class="grid-title-item p-1">{{ item.QuotationNumber }}</td>
                                                        <!-- <td class="grid-title-item p-1">{{ item.SAVING_TIME }}</td> -->
                                                        <td class="grid-title-item p-1">{{ item.CURRENCY_DESC }}</td>
                                                        <!-- <td class="grid-title-item p-1">{{ item.NCONTRIBUTION }}</td> -->
                                                        <td class="grid-title-item p-1">{{ item.NCONTRIBUTION }}</td>
                                                        <td class="grid-title-item p-1">{{ item.TYPE_FUND_DESC }}</td>
                                                        <td class="grid-title-item p-1">{{ item.DEFFECT_PRELIMINARY }}</td>
                                                        <td class="grid-title-item p-1">{{ item.DEFFECT_DEFINITIVE }}</td>
                                                        <td class="grid-title-item p-1">{{ item.SDESC_STATE }}</td>
                                                        <td class="grid-title-item p-1">
                                                            <input type="checkbox"
                                                                   class="mark-u orange marg"
                                                                   name="chk-quotation"
                                                                   [(ngModel)]="item.checked"
                                                                   (change)="isAllCheckQuotations()"
                                                                   [id]="'sendq-' + index" />
                                                            <label [for]="QuotationNumber"
                                                                   class="mark-u orange center ml-2"></label>
                                                        </td>
                                                        <td class="tbl__body-row-item tbl-actions actions box"
                                                            ngbDropdown>
                                                            <button class="btn-dropdown-u"
                                                                    tabindex="0"
                                                                    data-toggle="dropdown"
                                                                    aria-haspopup="true"
                                                                    aria-expanded="false"
                                                                    ngbDropdownToggle>
                                                                <i class="fa fa-ellipsis-v"
                                                                   aria-hidden="true"></i>
                                                            </button>
                                                            <ul class="dropdown-u"
                                                                display="dynamic"
                                                                ngbDropdownMenu
                                                                style="position: absolute !important; z-index: 999 !important;">
                                                                <li class="dropdown-item-u">
                                                                    <button class="dropdown-item-btn-u"
                                                                            title="Descargar">
                                                                        <i class="fa fa-eye fa-lg"></i>Descargar
                                                                    </button>
                                                                </li>
                                                                <li class="dropdown-item-u"
                                                                    *ngIf="profile_id == 192">
                                                                    <button class="dropdown-item-btn-u"
                                                                            title="Anular"
                                                                            (click)="CancelQuotation(item)">
                                                                        <i class="fa fa-eye fa-lg"></i>Anular
                                                                    </button>
                                                                </li>
                                                                <li class="dropdown-item-u">
                                                                    <button class="dropdown-item-btn-u"
                                                                            title="Enviar Cotización"
                                                                            (click)="SendQuotationSing(item.QuotationNumber)">
                                                                        <i class="fa fa-eye fa-lg"></i>Enviar Cotización
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </td>
                                                    </tr>
                                                </ng-container>
                                            </tbody>
                                        </table>
                                        <div *ngIf="listToShowV != null && listToShowV.length > 0"
                                             style="display: flex">
                                            <div class="col-sm-12">
                                                <ngb-pagination [(page)]="currentPageV"
                                                                [pageSize]="itemsPerPageV"
                                                                [collectionSize]="totalItemsV"
                                                                [maxSize]="maxSizeV"
                                                                (pageChange)="pageChangedV(currentPageV)">
                                                    <ng-template ngbPaginationPrevious>ANTERIOR</ng-template>
                                                    <ng-template ngbPaginationNext>SIGUIENTE</ng-template>
                                                </ngb-pagination>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <input type="radio"
                                   name="tabs"
                                   id="tabtwo"
                                   style="display: none" />
                            <label for="tabtwo"
                                   class="label-two"><i class="fa fa-times fa-lg mr-1"
                                   aria-hidden="true"></i>Cotizaciones
                                no vigentes</label>

                            <div class="tab2"
                                 style="margin-bottom: -25px;">
                                <div class="grid form-group">
                                    <div class="table-responsive"
                                         id="table-scroll">
                                        <table class="table-u">
                                            <thead>
                                                <tr>
                                                    <th>Nro.Cotización</th>
                                                    <!-- <th>Tiempo de ahorro</th> -->
                                                    <th>Moneda</th>
                                                    <!-- <th>Aporte</th> -->
                                                    <th>Monto de inversión</th>
                                                    <!-- <th>Fondo</th> -->
                                                    <th>Tipo de Fondo</th>
                                                    <th>Fecha preliminar</th>
                                                    <th>Fecha definitiva</th>
                                                    <th>Acciones</th>
                                                </tr>
                                            </thead>
                                            <tbody style="color: #553d81;">
                                                <ng-container *ngIf="!listToShowNV?.length">
                                                    <tr>
                                                        <td colspan="12">No hay información para mostrar</td>
                                                    </tr>
                                                </ng-container>

                                                <ng-container *ngIf="!!listToShowNV?.length">
                                                    <tr class="grid-body"
                                                        *ngFor="let item of listToShowNV let index = index "
                                                        [id]="'row' + index">

                                                        <td class="grid-title-item p-1">{{ item.QuotationNumber }}</td>
                                                        <!-- <td class="grid-title-item p-1">{{ item.SAVING_TIME }}</td> -->
                                                        <td class="grid-title-item p-1">{{ item.CURRENCY_DESC }}</td>
                                                        <td class="grid-title-item p-1">{{ item.NCONTRIBUTION }}</td>
                                                        <td class="grid-title-item p-1">{{ item.TYPE_FUND_DESC }}</td>
                                                        <td class="grid-title-item p-1">{{ item.DEFFECT_PRELIMINARY }}</td>
                                                        <td class="grid-title-item p-1">{{ item.DEFFECT_DEFINITIVE }}</td>

                                                        <td class="tbl__body-row-item tbl-actions actions"
                                                            ngbDropdown>
                                                            <button class="btn-dropdown-u"
                                                                    tabindex="0"
                                                                    data-toggle="dropdown"
                                                                    aria-haspopup="true"
                                                                    aria-expanded="false"
                                                                    ngbDropdownToggle>
                                                                <i class="fa fa-ellipsis-v"
                                                                   aria-hidden="true"></i>
                                                            </button>
                                                            <ul class="dropdown-u"
                                                                display="dynamic"
                                                                ngbDropdownMenu>
                                                                <li class="dropdown-item-u">
                                                                    <button class="dropdown-item-btn-u"
                                                                            title="Descargar">
                                                                        <i class="fa fa-eye fa-lg"></i>Descargar
                                                                    </button>
                                                                </li>
                                                            </ul>
                                                        </td>


                                                    </tr>
                                                </ng-container>
                                            </tbody>
                                        </table>
                                        <div *ngIf="listToShowNV != null && listToShowNV.length > 0"
                                             style="display: flex">
                                            <div class="col-sm-12">
                                                <ngb-pagination [(page)]="currentPageNV"
                                                                [pageSize]="itemsPerPageNV"
                                                                [collectionSize]="totalItemsNV"
                                                                [maxSize]="maxSizeNV"
                                                                (pageChange)="pageChangedNV(currentPageNV)">
                                                    <ng-template ngbPaginationPrevious>ANTERIOR</ng-template>
                                                    <ng-template ngbPaginationNext>SIGUIENTE</ng-template>
                                                </ngb-pagination>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </panel-widget>

                </div>
            </div>

            <div class="container_button_next mt-3">
                <span class="hidden"></span>
                <form-button label="Regresar"
                             btnClass="btn-orange text-nowrap orange"
                             (click)="changeStep(1)"></form-button>
            </div>

        </div>
    </div>

</div>
<div [hidden]="!isLoading"
     class="loadingScreen">
    <div style="display: flex; height: 100%; width: 100%">
        <i style="margin: auto; font-size: 50px"
           class="fa fa-spinner fa-spin"></i>
    </div>
</div>