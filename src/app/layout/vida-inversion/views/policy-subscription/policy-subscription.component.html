<div class="form-group row ">
    <div class="col-lg-3">
        <app-nav-menuprod></app-nav-menuprod>
    </div>

    <div class="col-lg-9 container">
        <div class="group1">
            <h2 class="title">
                Consulta de Solicitudes Suscripción
            </h2>
            <div class="d-flex flex-column align-items-end">
                <span>PRODUCTO: VIDA INVERSIÓN GLOBAL PROTECTA</span>
                <span>FECHA ACTUAL: {{current_day.toLocaleDateString('es-ES')}}</span>
            </div>
            </div>
            <panel-widget text_title="DATOS BÁSICOS"
            style="background-origin: #553d81">

                    <div class="container-subtitle"
                        style="margin-top: 10px;">
                        <span class="ml-2">Contratatante</span>
                    </div>

                    <!-- Para Contratante -->
                    <div class="d-flex flex-row flex-wrap pt-3 px-2">
                        <div class="row">
                            <div class="col-lg-9 row">

                                <div class="col-lg-3">
                                    <form-input-select text_label="TIPO DE DOCUMENTO"
                                                       [(value)]="data_contractor.type_document"
                                                       [service]="clientInformationService"
                                                       method="getDocumentTypeList"
                                                       [params]="CODPRODUCTO_PROFILE"
                                                       [updateModelOnChange]="true"
                                                       [firstSelect]="true"
                                                       fieldCodigo="Id"
                                                       fieldValor="Name"
                                                       [disabled]="data_contractor.type_document_disabled"
                                                       [large]="false"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="NRO. DOCUMENTO"
                                                    [(value)]="data_contractor.document_number"
                                                    [onlyInput]="true"
                                                    [patternPrevent]="CONSTANTS.REGEX[data_contractor.type_document?.Id]"
                                                    [disabled]="data_contractor.document_number_disabled">
                                    </form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-date text_label="FECHA NACIMIENTO"
                                                    [(value)]="data_contractor.birthday_date"
                                                    [disabled]="data_contractor.birthday_date_disabled"></form-input-date>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="NOMBRES"
                                                    [onlyInput]="true"
                                                    [(value)]="data_contractor.names"
                                                    [disabled]="data_contractor.names_disabled"
                                                    maxCaracter="19">
                                    </form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="APELLIDO PATERNO"
                                                    [onlyInput]="true"
                                                    [(value)]="data_contractor.last_name"
                                                    [disabled]="data_contractor.last_name_disabled"
                                                    maxCaracter="19"></form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="APELLIDO MATERNO"
                                                    [onlyInput]="true"
                                                    [(value)]="data_contractor.last_name2"
                                                    [disabled]="data_contractor.last_name2_disabled"
                                                    maxCaracter="19"></form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="SEXO"
                                                        [(value)]="data_contractor.gender"
                                                        [service]="clientInformationService"
                                                        method="getGenderList"
                                                        [params]="CONSTANTS.WITHOUT_PARAMS"
                                                        [updateModelOnChange]="true"
                                                        [firstSelect]="true"
                                                        fieldCodigo="SSEXCLIEN"
                                                        fieldValor="SDESCRIPT"
                                                        [disabled]="data_contractor.gender_disabled"
                                                        [large]="false"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="ESTADO CIVIL:"
                                                        [(value)]="data_contractor.civil_status"
                                                        [service]="clientInformationService"
                                                        method="getCivilStatusList"
                                                        [params]="CONSTANTS.WITHOUT_PARAMS"
                                                        [firstSelect]="true"                                                        [updateModelOnChange]="true"
                                                        fieldCodigo="NCIVILSTA"
                                                        fieldValor="SDESCRIPT"
                                                        [disabled]="data_contractor.civil_status_disabled"
                                                        [large]="false"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="NACIONALIDAD:"
                                                        [(value)]="data_contractor.nationality"
                                                        [service]="clientInformationService"
                                                        method="getNationalityList"
                                                        [params]="CONSTANTS.WITHOUT_PARAMS"                                                        [updateModelOnChange]="true"
                                                        fieldCodigo="NNATIONALITY"
                                                        fieldValor="SDESCRIPT"
                                                        [firstSelect]="true"
                                                        [disabled]="data_contractor.nationality_disabled"
                                                        [large]="false"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="CELULAR:"
                                                    [(value)]="data_contractor.phone"
                                                    [onlyInput]="true"
                                                    [disabled]="data_contractor.phone_disabled"
                                                    [patternPrevent]="CONSTANTS.REGEX.NUMBER"
                                                    maxCaracter="9"
                                                    classInput="{{ boolNumberCTR ? 'error_label' : 'null' }}"></form-input-text>
                                </div>

                                <div class="col-lg-6">
                                    <form-input-text text_label="CORREO ELECTRÓNICO:"
                                                    [onlyInput]="true"
                                                    [(value)]="data_contractor.email"
                                                    [disabled]="data_contractor.email_disabled"
                                                    maxCaracter="60"
                                                    classInput="{{ boolEmailCTR ? 'error_label' : 'null' }}"></form-input-text>
                                </div>

                                <div class="col-lg-12">
                                    <form-input-text text_label="DIRECCIÓN:"
                                                    [(value)]="data_contractor.address"
                                                    [disabled]="data_contractor.address_disabled"
                                                    maxCaracter="80"
                                                    [onlyInput]="true"></form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="DEPARTAMENTO:"
                                                        [(value)]="data_contractor.department"
                                                        fieldCodigo="Id"
                                                        fieldValor="Name"
                                                        [firstSelect]="true"
                                                        [large]="false"
                                                        [updateModelOnChange]="true"
                                                        (onSelect)="onSelectDepartament()"
                                                        [service]="addressService"
                                                        method="getDepartmentList"
                                                        [params]="CONSTANTS.WITHOUT_PARAMS" 
                                                        [disabled]="data_contractor.department_disabled"></form-input-select>

                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="PROVINCIA:"
                                                        [(value)]="data_contractor.province"
                                                        fieldCodigo="Id"
                                                        fieldValor="Name"
                                                        [firstSelect]="true"
                                                        [large]="false"
                                                        method="getProvinceList"
                                                        [service]="addressService"
                                                        [params]="data_contractor?.department?.Id"                                                        
                                                        [updateModelOnChange]="true"
                                                        (onSelect)="onSelectProvince()"
                                                        [disabled]="data_contractor.province_disabled"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="DISTRITO:"
                                                        [(value)]="data_contractor.district"
                                                        fieldCodigo="Id"
                                                        fieldValor="Name"
                                                        [firstSelect]="true"
                                                        [large]="false"
                                                        [service]="addressService"
                                                        method="getDistrictList"
                                                        [params]="data_contractor?.province?.Id == 0 ? null:data_contractor?.province?.Id"                                                        [updateModelOnChange]="true"
                                                        [disabled]="data_contractor.district_disabled"></form-input-select>
                                </div>

                            </div>

                            <div class="col-lg-3 mx-0 py-0">
                                <div class="sub-container1">
                                    <div>
                                        <h3 class="sub-title">Idecon</h3>

                                        <div class="label">
                                            <span class="item">Otras listas</span>
                                            <span class="item-response"> {{ idecon_contractor.otherList }} </span>
                                        </div>

                                        <div class="label">
                                            <span class="item">Es PEP</span>
                                            <span class="item-response"> {{ idecon_contractor.pep }} </span>
                                        </div>

                                        <div class="label">
                                            <span class="item">Tiene Familiar PEP</span>
                                            <span class="item-response"> {{ idecon_contractor.famPep }} </span>
                                        </div>
                                    </div>
                                    <div>
                                        <h3 class="sub-title">WorldCheck</h3>

                                        <div class="label">
                                            <span class="item">Otras listas</span>
                                            <span class="item-response"> {{ world_check_contractor.otherList }} </span>
                                        </div>

                                        <div class="label">
                                            <span class="item">Es PEP</span>
                                            <span class="item-response"> {{ world_check_contractor.pep }} </span>
                                        </div>
                                    </div>
                                    <div>
                                        <h3 class="sub-title">Experian</h3>

                                        <div class="label">
                                            <span class="item">Cliente Riesgoso</span>
                                            <span class="item-response"> {{ experian_contractor.riskClient }} </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="margin-top: 5px; display: flex; align-items: center">
                            <!-- <label class="subtitle">El asegurado es la misma persona que contrata el seguro</label>
                            <div class="container-radio">
                                <label>
                                    <input type="radio" name="valor" [checked]="check_input_value === 1" (change)="onRadioChange(1)"> Si
                                  </label>
                                  
                                  <label>
                                    <input type="radio" name="valor" [checked]="check_input_value === 0" (change)="onRadioChange(0)"> No
                                  </label>
                            </div> -->
                            <label class="subtitle">El asegurado es la misma persona que contrata el seguro</label>
                    <div class="content-radio-u mr-3">
                        <input type="radio"
                               name="status_contractor"
                               id="client_yes_contractor"
                               class="mark-u orange"
                               [value]="1"
                               [checked]="check_input_value == 1"
                               (click)="changeValue(1)" />
                        <label for="client_yes_contractor"
                               class="radio-label-u orange mark-u">
                            Sí
                        </label>
                    </div>
                    <div class="content-radio-u">
                        <input type="radio"
                               name="status_contractor"
                               id="client_no_contractor"
                               class="mark-u orange"
                               [value]="0"
                               [checked]="check_input_value == 0"
                               (click)="changeValue(0)" />
                        <label for="client_no_contractor"
                               class="radio-label-u orange mark-u">
                            No
                        </label>
                    </div>
                              
                              
                        </div>
                    </div>
                    <div *ngIf="check_input_value == 0" class="container-subtitle"
                    style="margin-top: 10px;">
                    <span class="ml-2">Asegurado</span>
                </div>
                    <div *ngIf="check_input_value == 0" class="d-flex flex-row flex-wrap pt-3 px-2">
                        <div class="row">
                            <div class="col-lg-9 row">

                                <div class="col-lg-3">
                                    <form-input-select text_label="TIPO DE DOCUMENTO"
                                                        [(value)]="data_insured.type_document"
                                                        [service]="clientInformationService"
                                                        method="getDocumentTypeList"
                                                        [params]="CODPRODUCTO_PROFILE"
                                                        [updateModelOnChange]="true"
                                                        [firstSelect]="true"
                                                        fieldCodigo="Id"
                                                        fieldValor="Name"
                                                        [disabled]="data_insured.type_document_disabled"
                                                        [large]="false"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="NRO. DOCUMENTO"
                                                    [(value)]="data_insured.document_number"
                                                    [onlyInput]="true"
                                                    [patternPrevent]="CONSTANTS.REGEX[data_insured.type_document?.Id]"
                                                    [disabled]="data_insured.document_number_disabled">
                                    </form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-date text_label="FECHA NACIMIENTO"
                                                    [(value)]="data_insured.birthday_date"
                                                    [disabled]="data_insured.birthday_date_disabled"></form-input-date>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="NOMBRES"
                                                    [onlyInput]="true"
                                                    [(value)]="data_insured.names"
                                                    [patternPrevent]="CONSTANTS.REGEX.LETRAS"
                                                    [disabled]="data_insured.names_disabled"
                                                    maxCaracter="19">
                                    </form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="APELLIDO PATERNO"
                                                    [onlyInput]="true"
                                                    [(value)]="data_insured.last_name"
                                                    [patternPrevent]="CONSTANTS.REGEX.LETRAS"
                                                    [disabled]="data_insured.last_name_disabled"
                                                    maxCaracter="19"></form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="APELLIDO MATERNO"
                                                    [onlyInput]="true"
                                                    [(value)]="data_insured.last_name2"
                                                    [patternPrevent]="CONSTANTS.REGEX.LETRAS"
                                                    [disabled]="data_insured.last_name2_disabled"
                                                    maxCaracter="19"></form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="SEXO"
                                    [(value)]="data_insured.gender"
                                    [service]="clientInformationService"
                                    method="getGenderList"
                                    [params]="CONSTANTS.WITHOUT_PARAMS"
                                    [updateModelOnChange]="true"
                                    fieldCodigo="SSEXCLIEN"
                                    fieldValor="SDESCRIPT"
                                    [disabled]="data_insured.gender_disabled"
                                    [firstSelect]="true"
                                    [large]="false"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="ESTADO CIVIL:"
                                    [(value)]="data_insured.civil_status"
                                    [service]="clientInformationService"
                                    method="getCivilStatusList"
                                    [params]="CONSTANTS.WITHOUT_PARAMS"
                                    [firstSelect]="true"
                                    [updateModelOnChange]="true"
                                    fieldCodigo="NCIVILSTA"
                                    fieldValor="SDESCRIPT"
                                    [disabled]="data_insured.civil_status_disabled"
                                    [large]="false"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="NACIONALIDAD:"
                                    [(value)]="data_insured.nationality"
                                    [service]="clientInformationService"
                                    method="getNationalityList"
                                    [params]="CONSTANTS.WITHOUT_PARAMS"
                                    fieldCodigo="NNATIONALITY"
                                    fieldValor="SDESCRIPT"
                                    [firstSelect]="true"
                                    [updateModelOnChange]="true"
                                    [disabled]="data_insured.nationality_disabled"
                                    [large]="false"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-text text_label="CELULAR:"
                                    [(value)]="data_insured.phone"
                                    [onlyInput]="true"
                                    [disabled]="data_insured.phone_disabled"
                                    [patternPrevent]="CONSTANTS.REGEX.NUMBER"
                                    maxCaracter="9"
                                    classInput="{{ boolNumberASG ? 'error_label' : 'null' }}"></form-input-text>
                                </div>

                                <div class="col-lg-6">
                                    <form-input-text text_label="CORREO ELECTRÓNICO:"
                                                    [onlyInput]="true"
                                                    [(value)]="data_insured.email"
                                                    [disabled]="data_insured.email_disabled"
                                                    maxCaracter="60"
                                                    classInput="{{ boolEmailCTR ? 'error_label' : 'null' }}"></form-input-text>
                                </div>

                                <div class="col-lg-12">
                                    <form-input-text text_label="DIRECCIÓN:"
                                    [onlyInput]="true"
                                    [(value)]="data_insured.address"
                                    [disabled]="data_insured.address_disabled"
                                    maxCaracter="80"></form-input-text>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="DEPARTAMENTO:"
                                                       [(value)]="data_insured.department"
                                                       fieldCodigo="Id"
                                                       fieldValor="Name"
                                                       [firstSelect]="true"
                                                       [large]="false"
                                                       [updateModelOnChange]="true"
                                                       (onSelect)="onSelectDepartamentInsured()"
                                                       [service]="addressService"
                                                        method="getDepartmentList"
                                                        [params]="CONSTANTS.WITHOUT_PARAMS" 
                                                       [disabled]="data_insured.department_disabled"></form-input-select>
                                </div>

                                <div class="col-lg-3">
                                    <form-input-select text_label="PROVINCIA:"
                                    [(value)]="data_insured.province"
                                    fieldCodigo="Id"
                                    fieldValor="Name"
                                    [firstSelect]="true"
                                    [large]="false"
                                    [updateModelOnChange]="true"
                                    (onSelect)="onSelectProvinceInsured()"
                                    [disabled]="data_insured.province_disabled"
                                    method="getProvinceList"
                                    [service]="addressService"
                                    [params]="data_contractor?.department?.Id"
                                    ></form-input-select>
                                </div>

                                <div class="col-lg-3">  
                                    <form-input-select text_label="DISTRITO:"
                                    [(value)]="data_insured.district"
                                    fieldCodigo="Id"
                                    fieldValor="Name"
                                    [firstSelect]="true"
                                    [large]="false"
                                    [items]="list_data_insured_district"
                                    [updateModelOnChange]="true"
                                    [disabled]="data_insured.district_disabled"
                                    [service]="addressService"
                                    method="getDistrictList"
                                    [params]="data_contractor?.province?.Id == 0 ? null:data_contractor?.province?.Id"
                                    ></form-input-select>
                                </div>

                            </div>

                            <div class="col-lg-3 mx-0 py-0">
                                <div class="sub-container1">
                                    <div>
                                        <h3 class="sub-title">Idecon</h3>
                                        
                                        <div class="label">
                                            <span class="item">Otras listas</span>
                                            <span class="item-response"> {{ idecon_contractor.otherList }} </span>
                                        </div>

                                        <div class="label">
                                            <span class="item">Es PEP</span>
                                            <span class="item-response"> {{ idecon_contractor.pep }} </span>
                                        </div>

                                        <div class="label">
                                            <span class="item">Tiene Familiar PEP</span>
                                            <span class="item-response"> {{ idecon_contractor.famPep }} </span>
                                        </div>
                                    </div>
                                    <div>
                                        <h3 class="sub-title">WorldCheck</h3>

                                        <div class="label">
                                            <span class="item">Otras listas</span>
                                            <span class="item-response"> {{ world_check_contractor.otherList }} </span>
                                        </div>

                                        <div class="label">
                                            <span class="item">Es PEP</span>
                                            <span class="item-response"> {{ world_check_contractor.pep }} </span>
                                        </div>
                                    </div>
                                    <div>
                                        <h3 class="sub-title">Experian</h3>

                                        <div class="label">
                                            <span class="item">Cliente Riesgoso</span>
                                            <span class="item-response"> {{ experian_contractor.riskClient }} </span>
                                        </div>  
                                    </div>
                                </div>
                            </div>
                        </div>

                       
                    </div>


            </panel-widget>
            <panel-widget text_title="Beneficiarios">
                <div style="margin-top: 6px; margin-bottom: 11px; display: flex; align-items: center">
                    <label class="subtitle">Mis beneficiarios serán mis herederos legales</label>
                
                    <!-- <div class="container-radio">
                        <label>
                            <input type="radio" name="valor" [checked]="check_input_value_beneficiary === 1" (change)="onRadioChangeBeneficiary(1)"> Si
                          </label>
                          
                          <label>
                            <input type="radio" name="valor" [checked]="check_input_value_beneficiary === 0" (change)="onRadioChangeBeneficiary(0)"> No
                          </label>
                    </div> -->
                    <div class="content-radio-u mr-3">
                        <input type="radio"
                               name="status_contractor"
                               id="beneficiaries_is_legal"
                               class="mark-u orange"
                               [value]="1"
                               [checked]="check_input_value_beneficiary == 1"
                               (click)="changeValueTwo(1)" />
                        <label for="beneficiaries_is_legal"
                               class="radio-label-u orange mark-u">
                            Sí
                        </label>
                    </div>
                    <div class="content-radio-u">
                        <input type="radio"
                               name="status_contractor"
                               id="beneficiaries_no_legal"
                               class="mark-u orange"
                               [value]="0"
                               [checked]="check_input_value_beneficiary == 0"
                               (click)="changeValueTwo(0)" />
                        <label for="beneficiaries_no_legal"
                               class="radio-label-u orange mark-u">
                            No
                        </label>
                    </div>
                </div>
                <div *ngIf="check_input_value_beneficiary == 0">

                    <div style="width: 55%">
                        <div class="table-responsive TableMargin_short div-tableban"
                             id="table-scroll">
                            <table class="table-u"
                                   style="margin-bottom: 4px;">
                                <thead>
                                    <tr>
                                        <th>Nro Documento</th>
                                        <th>Nombres</th>
                                        <th>Parentesco</th>
                                        <th>Asignación(%)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-container *ngIf="!list_benefeciarys?.length">
                                        <tr class="grid-body">
                                            <td class="grid-body-item"
                                                colspan="12"
                                                style="text-align: center">
                                                No hay informacion para mostrar
                                            </td>
                                        </tr>
                                    </ng-container>
                                    <ng-container *ngIf="!!list_benefeciarys?.length">
                                        <tr class="grid-body"
                                            *ngFor="
                                              let item of list_benefeciarys
                                              let index = index
                                            "
                                            [id]="'row' + index">
                                            <td class="hovert">{{item.desc_type_doc}}-{{ item.siddoc }}</td>
                                            <td class="hovert">{{ item.sfirstname }} {{ item.slastname }} {{ item.slastname2 }}
                                            </td>
                                            <td class="hovert">{{ item.srelation_name }}</td>
                                            <td class="hovert">{{ item.percentage_participation }}</td>
                                        </tr>
                                    </ng-container>


                                </tbody>
                            </table>

                            <div *ngIf="list_benefeciarys != null && list_benefeciarys.length > 0"
                                 style="display: flex">
                                <div class="col-sm-12">
                                    <ngb-pagination [(page)]="currentPage"
                                                    [pageSize]="itemsPerPage"
                                                    [collectionSize]="totalItems"
                                                    [maxSize]="maxSize"
                                                    (pageChange)="pageChanged(currentPage)">
                                        <ng-template ngbPaginationPrevious>ANTERIOR</ng-template>
                                        <ng-template ngbPaginationNext>SIGUIENTE</ng-template>
                                    </ngb-pagination>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </panel-widget>
            <panel-widget text_title="Datos del deposito">
                <div class="row">
                    <div class="col-lg-2">
                        <form-input-select text_label="MONEDA:"
                                           [(value)]="quotation.moneda"
                                           [updateModelOnChange]="true"
                                           fieldCodigo="NCODIGINT"
                                           fieldValor="SDESCRIPT"
                                           [items]="CURRENCY"
                                           [large]="true"
                                           [disabled]="true"></form-input-select>
                    </div>

                    <div class="col-lg-2">
                        <form-input-text text_label="MONTO DE INVERSIÓN:"
                                         [large]="true"
                                         [(value)]="quotation.contribution"
                                         (valueChange)="changeStyleCredit()"
                                         [patternPrevent]="CONSTANTS.REGEX.HUNDREDS_NUMBER"
                                         [disabled]="true"></form-input-text>
                    </div>
                    <div class="col-lg-2">
                        <form-input-date text_label="FECHA ABONO:"
                                         [large]="true"
                                         [(value)]="quotation.date_fund"
                                         [disabled]="true"></form-input-date>
                    </div>

                </div>
            </panel-widget>
            <div class="content-btn">
                <form-button label="Cancelar"
                (click)="cancelar()"
                btnClass="btn-secundary_VI text-nowrap"
                [slim]="true"
                ></form-button>
                <form-button label="Procesar"
                (click)="procesar()"
                btnClass="btn-primary-VI text-nowrap"
                [slim]="true"
                ></form-button>
            </div>
    </div>
</div>

<div [hidden]="!isLoading"
     class="loadingScreen">
    <div style="display: flex; height: 100%; width: 100%">
        <i style="margin: auto; font-size: 50px"
           class="fa fa-spinner fa-spin"></i>
    </div>
</div>